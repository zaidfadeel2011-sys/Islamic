<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0b3d2e">
    <title>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø§Ù„Ø°ÙƒÙŠ</title>
    <style>
        /* Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ø³Ù…Ø§Øª */
        :root {--primary:#0b3d2e;--secondary:#146356;--gold:#d4af37;--accent:#0a8;--card-bg:rgba(255,255,255,0.05);--text:#fff;--shadow:0 8px 32px rgba(0,0,0,0.3);--transition:all .3s ease}
        [data-theme="dark"]{--primary:#0a1929;--secondary:#1a2b3c;--accent:#4dabf7;--card-bg:rgba(30,41,59,0.8);--text:#e2e8f0}
        [data-theme="gold"]{--primary:#3a2c0a;--secondary:#5a4a1a;--gold:#ffd700;--accent:#ffaa00;--card-bg:rgba(90,74,26,0.3)}
        [data-theme="navy"]{--primary:#001f3f;--secondary:#002b5c;--accent:#0af;--card-bg:rgba(0,31,63,0.3)}
        [data-theme="red"]{--primary:#3b0000;--secondary:#5a0000;--accent:#f00;--card-bg:rgba(59,0,0,0.3)}
        [data-theme="blue"]{--primary:#003366;--secondary:#004d99;--accent:#3399ff;--card-bg:rgba(0,51,102,0.3)}
        [data-theme="white"]{--primary:#fff;--secondary:#f0f0f0;--gold:#b8860b;--accent:#0b3d2e;--card-bg:rgba(240,240,240,0.9);--text:#333}
        [data-theme="orange"]{--primary:#ff6b00;--secondary:#ff8c42;--accent:#ff4500;--card-bg:rgba(255,107,0,0.1)}
        [data-theme="purple"]{--primary:#4b0082;--secondary:#663399;--accent:#9370db;--card-bg:rgba(75,0,130,0.3)}
        
        *{-webkit-tap-highlight-color:transparent;box-sizing:border-box}
        body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Noto Sans Arabic',sans-serif;background:linear-gradient(135deg,var(--primary),var(--secondary));color:var(--text);min-height:100vh;overflow-x:hidden;transition:background .5s}
        
        /* Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø§Ù… */
        .page{position:fixed;top:70px;left:0;width:100%;height:calc(100% - 150px);overflow-y:auto;-webkit-overflow-scrolling:touch;display:none;background:linear-gradient(135deg,var(--primary),var(--secondary));padding-bottom:20px}
        .page.active{display:block;animation:fadeIn .3s}
        @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-header{position:fixed;top:0;left:0;width:100%;height:70px;background:rgba(0,0,0,.85);backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:space-between;padding:0 20px;border-bottom:2px solid var(--gold);z-index:1000;box-shadow:0 4px 30px rgba(0,0,0,.2)}
        .user-info{display:flex;align-items:center;gap:12px}
        .user-avatar{width:45px;height:45px;border-radius:50%;background:linear-gradient(45deg,var(--gold),var(--accent));display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:1.3rem;color:#000;box-shadow:0 4px 15px rgba(212,175,55,.3)}
        .user-name{font-size:1rem;font-weight:600;color:var(--gold)}
        .main-title{color:var(--gold);font-size:1.4rem;font-weight:bold;position:absolute;left:50%;transform:translateX(-50%)}
        .settings-dot{width:45px;height:45px;border-radius:50%;background:linear-gradient(45deg,var(--gold),#ffaa00);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.4rem;transition:var(--transition);box-shadow:0 4px 15px rgba(212,175,55,.3)}
        .settings-dot:hover{transform:scale(1.1) rotate(30deg)}
        
        /* Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ */
        .bottom-nav{position:fixed;bottom:0;left:0;width:100%;height:80px;background:rgba(0,0,0,.9);backdrop-filter:blur(20px);display:flex;justify-content:space-around;padding:12px 10px;border-top:2px solid var(--gold);z-index:1000;box-shadow:0 -4px 30px rgba(0,0,0,.2)}
        .nav-item{display:flex;flex-direction:column;align-items:center;color:rgba(255,255,255,.7);text-decoration:none;font-size:.75rem;transition:var(--transition);padding:10px 8px;border-radius:15px;min-width:65px;background:none;border:none;cursor:pointer}
        .nav-item.active{color:var(--gold);background:rgba(212,175,55,.15);transform:translateY(-5px);box-shadow:0 8px 25px rgba(212,175,55,.2)}
        .nav-icon{font-size:1.5rem;margin-bottom:5px;transition:var(--transition)}
        .nav-item.active .nav-icon{transform:scale(1.2)}
        
        /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø§Øª */
        .page-content{padding:20px;max-width:800px;margin:0 auto}
        .card{background:var(--card-bg);backdrop-filter:blur(10px);border-radius:20px;padding:25px;margin-bottom:20px;border:1px solid rgba(212,175,55,.2);box-shadow:var(--shadow);transition:var(--transition)}
        .card:hover{transform:translateY(-5px);box-shadow:0 12px 40px rgba(0,0,0,.3)}
        .section-title{color:var(--gold);margin-top:0;margin-bottom:25px;text-align:center;font-size:1.5rem;position:relative;padding-bottom:15px;font-weight:bold}
        .section-title::after{content:'';position:absolute;bottom:0;right:50%;transform:translateX(50%);width:80px;height:3px;background:linear-gradient(90deg,transparent,var(--gold),transparent)}
        .decorative-line{height:3px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:20px 0}
        
        /* ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ù…Ø®ÙÙŠØ© Ø­Ø§Ù„ÙŠØ§Ù‹) */
        .login-page{display:none}
        
        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ÙˆØ§Ù„ØªØµÙ…ÙŠÙ…Ø§Øª */
        .level-card{margin:25px 0;padding:25px;background:linear-gradient(135deg,rgba(212,175,55,.1),rgba(212,175,55,.2));border-radius:20px;border:2px solid var(--gold);position:relative;overflow:hidden}
        .level-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent,var(--gold),transparent)}
        .level-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
        .level-title{color:var(--gold);font-size:1.4rem;font-weight:bold;margin:0}
        .level-number{background:var(--gold);color:#000;padding:8px 20px;border-radius:25px;font-weight:bold;font-size:1.3rem;box-shadow:0 4px 15px rgba(212,175,55,.3)}
        .level-labels{display:flex;justify-content:space-between;margin-bottom:10px;font-size:1rem;color:var(--gold);font-weight:600}
        .level-bar{height:25px;background:rgba(255,255,255,.1);border-radius:12px;overflow:hidden;position:relative;border:1px solid rgba(212,175,55,.3);box-shadow:inset 0 2px 10px rgba(0,0,0,.2)}
        .level-fill{height:100%;background:linear-gradient(90deg,var(--gold),var(--accent));border-radius:12px;transition:width .8s ease;position:relative;overflow:hidden}
        .level-fill::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 2s infinite}
        @keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
        
        .minbar-card{margin:25px 0;padding:25px;background:var(--card-bg);border-radius:20px;border:1px solid rgba(212,175,55,.2);position:relative;overflow:hidden;cursor:pointer;transition:var(--transition);box-shadow:var(--shadow)}
        .minbar-card:hover{transform:translateY(-5px);box-shadow:0 12px 40px rgba(0,0,0,.3)}
        .minbar-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent,var(--gold),transparent)}
        .minbar-header{display:flex;align-items:center;gap:20px;margin-bottom:15px}
        .minbar-icon{font-size:2.5rem;color:var(--gold)}
        .minbar-title{color:var(--gold);font-size:1.5rem;font-weight:bold;margin:0}
        .minbar-desc{color:var(--text);font-size:1.1rem;opacity:.9;margin:0;text-align:center;line-height:1.6}
        
        /* Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© */
        .internal-menu{display:flex;flex-direction:column;gap:20px;margin:25px 0}
        .menu-item{background:rgba(212,175,55,.1);border:2px solid var(--gold);border-radius:20px;padding:25px;display:flex;align-items:center;gap:20px;cursor:pointer;transition:var(--transition);position:relative;overflow:hidden}
        .menu-item::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s}
        .menu-item:hover::before{left:100%}
        .menu-item:active{transform:scale(.98);background:rgba(212,175,55,.2)}
        .menu-icon{font-size:2.2rem;color:var(--gold);width:60px;height:60px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.1);border-radius:15px;flex-shrink:0;transition:var(--transition)}
        .menu-item:hover .menu-icon{transform:scale(1.1) rotate(5deg)}
        .menu-content{flex:1}
        .menu-title{color:var(--gold);margin:0 0 8px 0;font-size:1.3rem;font-weight:bold}
        .menu-desc{margin:0;font-size:1rem;opacity:.9}
        
        /* ØµÙØ­Ø© Ø§Ù„ØµÙ„Ø§Ø© - Ù…Ø­Ø³Ù†Ø© */
        .prayer-table {width:100%;border-collapse:collapse;margin:25px 0;background:var(--card-bg);border-radius:15px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,.2)}
        .prayer-table th{background:linear-gradient(135deg,var(--gold),#ffaa00);color:#000;padding:18px 12px;text-align:center;font-weight:bold;font-size:1.1rem;border:1px solid rgba(212,175,55,.3)}
        .prayer-table td{padding:15px 12px;text-align:center;border:1px solid rgba(255,255,255,.1);font-size:1rem;transition:var(--transition)}
        .prayer-table tr:hover td{background:rgba(255,255,255,.05)}
        .prayer-cell{position:relative;cursor:pointer;min-height:50px}
        .prayer-cell-content{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px;min-height:50px}
        .prayer-icon-small{font-size:1.2rem;color:var(--gold)}
        .prayer-status{font-size:0.85rem;font-weight:500;margin-top:3px}
        .prayer-status.prayed{color:#4CAF50;background:rgba(76,175,80,.1);padding:2px 8px;border-radius:10px;border:1px solid rgba(76,175,80,.3)}
        .prayer-status.not-prayed{color:#f44336;background:rgba(244,67,54,.1);padding:2px 8px;border-radius:10px;border:1px solid rgba(244,67,54,.3)}
        .prayer-points{font-size:0.8rem;color:var(--accent);margin-top:3px;font-weight:bold}
        .prayer-cancelled{color:#ff9800;background:rgba(255,152,0,.1);padding:2px 8px;border-radius:10px;border:1px solid rgba(255,152,0,.3)}
        
        /* ØµÙØ­Ø© Ø§Ù„ÙˆØ¶ÙˆØ¡ */
        .wudu-steps{display:flex;flex-direction:column;gap:20px;margin:25px 0}
        .wudu-step{background:linear-gradient(135deg,rgba(255,255,255,.05),rgba(212,175,55,.1));border:2px solid var(--gold);border-radius:20px;padding:25px;display:flex;align-items:center;gap:20px;text-align:right;transition:var(--transition)}
        .wudu-step:hover{transform:translateX(-5px)}
        .wudu-step-number{width:45px;height:45px;background:linear-gradient(45deg,var(--gold),#ffaa00);color:#000;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:1.3rem;flex-shrink:0;box-shadow:0 4px 15px rgba(212,175,55,.3)}
        .wudu-step-text{flex:1;color:var(--text);font-size:1.2rem;line-height:1.6}
        
        /* ØµÙØ­Ø© Ø§Ù„Ø£Ø°ÙƒØ§Ø± - Ù…Ø¹Ø¯Ù„Ø© */
        .azkar-text{font-size:1.5rem;line-height:2;padding:30px 25px;background:rgba(0,0,0,.15);border-radius:20px;margin:25px 0;min-height:200px;display:flex;align-items:center;justify-content:center;border-right:4px solid var(--gold);box-shadow:inset 0 2px 20px rgba(0,0,0,.1)}
        .azkar-controls{display:flex;justify-content:center;gap:20px;margin-top:25px}
        
        /* ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¨ÙŠØ­ - Ù…Ø­Ø³Ù†Ø© ÙˆÙ…ØªÙ†Ø§Ø³Ù‚Ø© */
        .tasbeeh-container{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;min-height:500px;gap:30px}
        .tasbeeh-count{font-size:4rem;color:var(--gold);font-weight:bold;margin:0;font-family:'Courier New',monospace;text-align:center;text-shadow:0 4px 20px rgba(212,175,55,.5);line-height:1}
        .tasbeeh-circle{width:200px;height:200px;border-radius:50%;border:4px solid var(--gold);background:linear-gradient(135deg,rgba(212,175,55,.1),rgba(212,175,55,.3));display:flex;align-items:center;justify-content:center;margin:10px 0;cursor:pointer;transition:var(--transition);user-select:none;box-shadow:0 10px 40px rgba(212,175,55,.2);position:relative;overflow:hidden}
        .tasbeeh-circle::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,transparent 30%,rgba(212,175,55,.1) 70%);transition:var(--transition)}
        .tasbeeh-circle:active{transform:scale(.95);box-shadow:0 5px 20px rgba(212,175,55,.3)}
        .tasbeeh-text{color:var(--gold);font-size:1.4rem;font-weight:bold;position:relative;z-index:1}
        .tasbeeh-controls{display:flex;gap:15px;margin-top:20px;justify-content:center}
        .tasbeeh-btn{background:linear-gradient(135deg,rgba(212,175,55,.1),rgba(212,175,55,.2));border:2px solid var(--gold);color:var(--gold);padding:12px 25px;border-radius:30px;cursor:pointer;font-weight:600;font-size:1rem;transition:var(--transition);box-shadow:0 4px 15px rgba(212,175,55,.2);min-width:150px}
        .tasbeeh-btn:active{transform:scale(.95)}
        
        /* ØµÙØ­Ø© Ø§Ù„Ù…Ù‡Ø§Ù… - Ù…Ø­Ø³Ù†Ø© */
        .tasks-container{display:flex;flex-direction:column;gap:20px;margin:25px 0;position:relative}
        .add-task-container{background:rgba(212,175,55,.1);border:2px dashed var(--gold);border-radius:20px;padding:25px;display:flex;align-items:center;gap:20px;cursor:pointer;transition:var(--transition);margin-top:25px}
        .add-task-container:hover{background:rgba(212,175,55,.2);transform:translateX(-5px)}
        .add-task-icon{font-size:2.2rem;color:var(--gold);width:60px;height:60px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.1);border-radius:15px;flex-shrink:0}
        .add-task-content{flex:1;color:var(--gold);font-size:1.3rem;font-weight:bold}
        .task-item{background:linear-gradient(135deg,rgba(255,255,255,.05),rgba(212,175,55,.1));border:2px solid var(--gold);border-radius:20px;padding:25px;display:flex;align-items:center;gap:20px;position:relative;transition:var(--transition)}
        .task-item:hover{transform:translateX(-5px)}
        .user-task-item{background:linear-gradient(135deg,var(--card-bg),rgba(212,175,55,.1));border:2px solid var(--gold)}
        .task-checkbox{width:35px;height:35px;border:2px solid var(--gold);border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;transition:var(--transition);background:rgba(255,255,255,.05)}
        .user-task-item .task-checkbox{border-color:var(--gold)}
        .task-checkbox.checked{background:var(--gold)}
        .user-task-item .task-checkbox.checked{background:var(--gold)}
        .task-checkbox.checked::after{content:'âœ“';color:#000;font-weight:bold;font-size:1.2rem}
        .task-content{flex:1}
        .task-title{color:var(--gold);margin:0 0 8px 0;font-size:1.2rem;font-weight:bold}
        .user-task-item .task-title{color:var(--gold)}
        .task-desc{margin:0;font-size:1rem;opacity:.9;line-height:1.5}
        .task-points{color:var(--gold);font-weight:bold;font-size:1.2rem;padding:8px 18px;background:rgba(212,175,55,.15);border-radius:15px;flex-shrink:0;box-shadow:0 4px 15px rgba(212,175,55,.2)}
        .user-task-item .task-points{color:var(--gold);background:rgba(212,175,55,.15)}
        .task-actions{display:flex;gap:10px}
        .task-action-btn{background:rgba(255,255,255,.1);border:1px solid rgba(212,175,55,.3);color:var(--gold);width:40px;height:40px;border-radius:10px;font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition)}
        .task-action-btn:hover{background:rgba(212,175,55,.2);transform:scale(1.1)}
        
        /* ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª */
        .settings-option{background:linear-gradient(135deg,rgba(212,175,55,.1),rgba(212,175,55,.2));border:2px solid var(--gold);border-radius:20px;padding:25px;margin:20px 0;cursor:pointer;transition:var(--transition);text-align:right;display:flex;align-items:center;gap:20px;position:relative;overflow:hidden}
        .settings-option::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s}
        .settings-option:hover::before{left:100%}
        .settings-option:active{transform:scale(.98)}
        .settings-option-icon{font-size:1.8rem;color:var(--gold);width:55px;height:55px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.1);border-radius:12px;flex-shrink:0;transition:var(--transition)}
        .settings-option:hover .settings-option-icon{transform:scale(1.1) rotate(10deg)}
        .settings-option-content{flex:1}
        .settings-option-title{color:var(--gold);font-size:1.3rem;font-weight:bold;margin:0 0 8px 0;text-align:right}
        .settings-option-desc{color:var(--text);font-size:1rem;opacity:.9;margin:0;text-align:right;line-height:1.5}
        
        /* ØµÙØ­Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† - Ù…Ø­Ø³Ù†Ø© */
        .quran-text-full {
            unicode-bidi: plaintext;
            text-align: right;
            direction: rtl;
            line-height: 2.2;
            font-size: 1.5rem;
            padding: 20px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            max-height: 70vh;
            overflow-y: auto;
            margin: 25px 0;
            border: 2px solid rgba(212, 175, 55, 0.2);
        }
        
        .quran-bismillah {
            text-align: center;
            color: var(--gold);
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(212, 175, 55, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .quran-verse-full {
            display: block;
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            text-align: right;
            font-family: 'Noto Naskh Arabic', serif;
            font-size: 1.5rem;
            line-height: 2.2;
        }
        
        .verse-number-full {
            display: inline-block;
            background: linear-gradient(45deg, var(--gold), #ffaa00);
            color: #000;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            text-align: center;
            line-height: 32px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-left: 10px;
            margin-right: 5px;
            margin-bottom: 10px;
        }
        
        .surah-list-item {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }
        
        .surah-list-item:hover {
            transform: translateX(-5px);
            background: rgba(212, 175, 55, 0.2);
        }
        
        .surah-list-title {
            color: var(--gold);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .surah-list-info {
            font-size: 0.9rem;
            color: var(--text);
            opacity: 0.8;
            margin-top: 5px;
        }
        
        /* ØµÙØ­Ø© Ø§Ù„Ù…Ù†Ø¨Ø± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ - Ù…Ø­Ø³Ù†Ø© */
        .sermons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .sermon-card {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 20px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 150px;
        }
        
        .sermon-card:hover {
            transform: translateY(-5px);
            background: rgba(212, 175, 55, 0.2);
        }
        
        .sermon-title {
            color: var(--gold);
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .sermon-sheikh {
            color: var(--text);
            font-size: 1rem;
            margin-bottom: 15px;
            opacity: 0.9;
        }
        
        .sermon-play {
            color: var(--gold);
            font-weight: bold;
            font-size: 1rem;
            padding: 10px;
            background: rgba(212, 175, 55, 0.2);
            border-radius: 15px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        /* ØµÙØ­Ø© Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù† - Ù…Ø­Ø³Ù†Ø© */
        .reciters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .reciter-card {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 25px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            position: relative;
        }
        
        .reciter-card:hover {
            transform: translateY(-5px);
            background: rgba(212, 175, 55, 0.2);
        }
        
        .reciter-title {
            color: var(--gold);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .reciter-desc {
            color: var(--text);
            font-size: 1rem;
            opacity: 0.8;
        }
        
        /* Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© Ø³ÙˆØ± Ù…Ø®ØµØµØ© Ù„Ù„Ø´ÙŠØ® */
        .add-custom-surah {
            background: rgba(212, 175, 55, 0.15);
            border: 2px dashed var(--gold);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .add-custom-surah:hover {
            background: rgba(212, 175, 55, 0.25);
            transform: translateY(-3px);
        }
        
        .add-custom-surah-text {
            color: var(--gold);
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .add-file-btn {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(212, 175, 55, 0.3));
            border: 2px solid var(--gold);
            color: var(--gold);
            padding: 12px 25px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .add-file-btn:hover {
            background: rgba(212, 175, 55, 0.3);
            transform: scale(1.05);
        }
        
        .add-file-btn:active {
            transform: scale(0.95);
        }
        
        .file-input {
            display: none;
        }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø³ÙˆØ± Ø§Ù„Ø´ÙŠØ® - Ù…Ø­Ø³Ù†Ø© */
        .surahs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .surah-card {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid var(--gold);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            position: relative;
        }
        
        .surah-card:hover {
            transform: translateY(-5px);
            background: rgba(212, 175, 55, 0.2);
        }
        
        .surah-card-title {
            color: var(--gold);
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .surah-card-desc {
            color: var(--text);
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .surah-type-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--accent);
            color: white;
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 10px;
        }
        
        /* ØµÙØ­Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø£Ø®Ø±Ù‰ ÙˆØ§Ù„Ù…ØµØ§Ø¯Ø± - Ù…Ø­Ø³Ù†Ø© */
        .site-card, .source-item {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            transition: var(--transition);
        }
        
        .site-card:hover, .source-item:hover {
            transform: translateX(-5px);
            background: rgba(212, 175, 55, 0.2);
        }
        
        .site-title, .source-title {
            color: var(--gold);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .site-desc, .source-desc {
            color: var(--text);
            font-size: 1rem;
            line-height: 1.6;
            opacity: 0.9;
        }
        
        /* Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† - Ù…Ø­Ø³Ù†Ø© */
        .quran-page-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .quran-page-btn {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(212, 175, 55, 0.2));
            border: 2px solid var(--gold);
            color: var(--gold);
            padding: 15px 35px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            transition: var(--transition);
            min-width: 180px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.2);
        }
        
        .quran-page-btn:hover {
            background: rgba(212, 175, 55, 0.2);
            transform: translateY(-3px);
        }
        
        .quran-page-btn:active {
            transform: scale(.95);
        }
        
        .page-indicator {
            color: var(--gold);
            font-weight: bold;
            font-size: 1.3rem;
            padding: 15px 30px;
            background: rgba(212, 175, 55, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            min-width: 150px;
            text-align: center;
        }
        
        /* Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ø§Ù…Ø© */
        .action-btn{background:linear-gradient(135deg,rgba(212,175,55,.1),rgba(212,175,55,.2));border:2px solid var(--gold);color:var(--gold);padding:15px 30px;border-radius:30px;cursor:pointer;font-weight:600;font-size:1.1rem;transition:var(--transition);box-shadow:0 4px 15px rgba(212,175,55,.2)}
        .action-btn:active{transform:scale(.95)}
        
        /* ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ - Ù…Ø­Ø³Ù† (Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø³Ø§Ø¹Ø©) */
        .hijri-date {
            text-align:center;
            color:var(--gold);
            font-size:1.8rem;
            margin-bottom:20px;
            font-weight:bold;
            padding:20px 25px;
            background:rgba(212,175,55,.15);
            border-radius:15px;
            border:1px solid rgba(212,175,55,.3);
            box-shadow:0 4px 15px rgba(212,175,55,.2);
            width: 100%;
        }
        
        .hijri-date .date-text {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .hijri-date .gregorian {
            font-size: 1.4rem;
            opacity: .9;
            margin-top: 10px;
        }
        
        /* Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .notification{position:fixed;bottom:100px;right:25px;background:linear-gradient(45deg,var(--gold),var(--accent));color:#000;padding:18px 30px;border-radius:15px;animation:slideIn .3s;z-index:1000;font-weight:bold;box-shadow:0 8px 30px rgba(212,175,55,.3);max-width:350px;text-align:center;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}
        @keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
        
        /* Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
        .modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);backdrop-filter:blur(10px);display:flex;justify-content:center;align-items:center;z-index:2000;animation:fadeIn .3s}
        .modal-content{background:var(--card-bg);border:2px solid var(--gold);border-radius:25px;padding:35px;max-width:450px;width:90%;text-align:center;backdrop-filter:blur(20px);box-shadow:0 20px 60px rgba(0,0,0,.4);animation:modalSlideIn .3s}
        @keyframes modalSlideIn{from{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}
        .modal-title{color:var(--gold);font-size:1.8rem;margin-bottom:25px;font-weight:bold}
        .modal-input{width:100%;padding:18px;margin:25px 0;border:2px solid var(--gold);border-radius:20px;background:rgba(255,255,255,.1);color:var(--text);font-size:1.1rem;text-align:center;outline:none;transition:var(--transition)}
        .modal-input:focus{background:rgba(255,255,255,.15);box-shadow:0 0 20px rgba(212,175,55,.3)}
        .modal-buttons{display:flex;gap:20px;margin-top:25px;flex-wrap:wrap}
        .modal-btn{flex:1;min-width:120px;padding:15px 25px;border-radius:20px;border:none;font-weight:bold;font-size:1.1rem;cursor:pointer;transition:var(--transition);box-shadow:0 4px 15px rgba(0,0,0,.2)}
        .modal-btn:active{transform:scale(.95)}
        .modal-btn-primary{background:linear-gradient(45deg,var(--gold),#ffaa00);color:#000}
        .modal-btn-secondary{background:rgba(255,255,255,.1);color:var(--text);border:1px solid var(--gold)}
        .modal-btn-danger{background:linear-gradient(45deg,#ff4444,#ff6666);color:white}
        .modal-btn-success{background:linear-gradient(45deg,#4CAF50,#45a049);color:white}
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù…Ø§Øª - Ù…Ø­Ø³Ù†Ø© (ÙÙŠ ÙˆØ³Ø· Ø§Ù„Ø´Ø§Ø´Ø©) */
        .theme-menu{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);background:rgba(0,0,0,.95);backdrop-filter:blur(10px);border:2px solid var(--gold);border-radius:20px;padding:20px;z-index:1001;display:none;width:300px;box-shadow:0 20px 50px rgba(0,0,0,.5);animation:fadeIn .2s}
        .theme-menu.active{display:block}
        .theme-grid{display:grid;grid-template-columns:repeat(3, 1fr);gap:15px}
        .theme-color{width:70px;height:70px;border-radius:15px;cursor:pointer;transition:var(--transition);border:4px solid transparent;display:flex;align-items:center;justify-content:center;font-size:1.6rem}
        .theme-color:hover{transform:scale(1.1);border-color:rgba(255,255,255,.5)}
        .theme-color.active{border-color:var(--gold);box-shadow:0 0 20px rgba(212,175,55,.6);transform:scale(1.05)}
        .theme-title{color:var(--gold);font-size:1.4rem;text-align:center;margin-bottom:20px;font-weight:bold}
        
        /* Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª Ù„Ù„Ø³ÙˆØ± Ø§Ù„Ù…Ø®ØµØµØ© - Ù…Ø­Ø³Ù† */
        .audio-player-container {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            padding: 25px;
            margin-top: 20px;
            border: 2px solid rgba(212, 175, 55, 0.3);
        }
        
        .audio-player-title {
            color: var(--gold);
            font-size: 1.4rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .audio-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .audio-btn {
            background: rgba(212, 175, 55, 0.2);
            border: 2px solid var(--gold);
            color: var(--gold);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .audio-btn:hover {
            background: rgba(212, 175, 55, 0.3);
            transform: scale(1.1);
        }
        
        .audio-btn:active {
            transform: scale(0.95);
        }
        
        .progress-container {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 20px 0;
            cursor: pointer;
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--gold), var(--accent));
            border-radius: 5px;
            width: 0%;
            transition: width 0.1s;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            color: var(--gold);
            font-size: 0.9rem;
            margin-top: 10px;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            color: var(--gold);
        }
        
        .volume-slider {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--gold);
            cursor: pointer;
        }
        
        /* ---------------- Ù‚Ø³Ù… Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯ ---------------- */
        .leaders-section {
            margin: 25px 0;
        }
        
        .leaders-title {
            color: var(--gold);
            font-size: 1.5rem;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .leaders-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        
        .leader-item {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: var(--transition);
        }
        
        .leader-item:hover {
            transform: translateX(-5px);
            background: rgba(212, 175, 55, 0.2);
        }
        
        .leader-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--gold), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: #000;
            flex-shrink: 0;
        }
        
        .leader-info {
            flex: 1;
        }
        
        .leader-name {
            color: var(--gold);
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .leader-points {
            color: var(--text);
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .leader-rank {
            background: linear-gradient(45deg, var(--gold), #ffaa00);
            color: #000;
            padding: 8px 15px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 1.1rem;
            min-width: 60px;
            text-align: center;
        }
        
        .friend-status {
            padding: 5px 12px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .friend-pending {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }
        
        .friend-accepted {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }
        
        .search-friend-container {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .search-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .search-input {
            flex: 1;
            padding: 15px;
            border: 2px solid var(--gold);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
            font-size: 1.1rem;
            outline: none;
            transition: var(--transition);
        }
        
        .search-input:focus {
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }
        
        .search-btn {
            background: linear-gradient(45deg, var(--gold), #ffaa00);
            color: #000;
            border: none;
            border-radius: 15px;
            padding: 0 25px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .search-btn:hover {
            transform: scale(1.05);
        }
        
        .search-btn:active {
            transform: scale(0.95);
        }
        
        .search-results {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .search-result-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: var(--transition);
        }
        
        .search-result-item:hover {
            background: rgba(212, 175, 55, 0.1);
        }
        
        .result-name {
            color: var(--gold);
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .result-points {
            color: var(--text);
            font-size: 1rem;
        }
        
        .add-friend-btn {
            background: linear-gradient(45deg, var(--gold), var(--accent));
            color: #000;
            border: none;
            border-radius: 10px;
            padding: 8px 15px;
            font-weight: bold;
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .add-friend-btn:hover {
            transform: scale(1.05);
        }
        
        .add-friend-btn:active {
            transform: scale(0.95);
        }
        
        .friend-request-badge {
            position: fixed;
            top: 80px;
            right: 20px;
            background: linear-gradient(45deg, var(--gold), var(--accent));
            color: #000;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            z-index: 999;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .no-friends-message {
            text-align: center;
            color: var(--text);
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .no-friends-message .action-btn {
            margin-top: 15px;
        }
        
        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width:768px){
            .page-content{padding:15px}
            .page{top:60px;height:calc(100% - 140px)}
            .main-header{height:60px;padding:0 15px}
            .user-avatar{width:40px;height:40px;font-size:1.2rem}
            .main-title{font-size:1.2rem}
            .settings-dot{width:40px;height:40px;font-size:1.2rem}
            .bottom-nav{height:75px}
            .nav-item{min-width:60px;padding:8px 5px}
            .nav-icon{font-size:1.3rem}
            .card,.level-card,.minbar-card,.menu-item{padding:20px}
            .section-title{font-size:1.3rem}
            .tasbeeh-count{font-size:3.5rem}
            .tasbeeh-circle{width:180px;height:180px}
            .quran-text-full{font-size:1.4rem;line-height:2.2;padding:15px;max-height:65vh}
            .quran-verse-full{font-size:1.4rem;line-height:2.2;margin-bottom:20px;padding-bottom:20px}
            .quran-page-btn{min-width:160px;padding:12px 25px;font-size:1.1rem}
            .page-indicator{min-width:130px;padding:12px 20px;font-size:1.2rem}
            .sermons-grid{grid-template-columns:repeat(auto-fill, minmax(280px, 1fr))}
            .reciters-grid{grid-template-columns:repeat(auto-fill, minmax(280px, 1fr))}
            .surahs-grid{grid-template-columns:repeat(auto-fill, minmax(230px, 1fr))}
            .modal-content{padding:25px}
            .modal-buttons{flex-direction:column}
            .modal-btn{min-width:100%}
            .notification{right:15px;left:15px;max-width:none;bottom:90px}
            .theme-menu{width:280px}
            .theme-grid{grid-template-columns:repeat(3, 1fr);gap:12px}
            .theme-color{width:60px;height:60px}
            .hijri-date .date-text{font-size:1.6rem}
            .hijri-date .gregorian{font-size:1.3rem}
            .audio-controls{gap:15px}
            .audio-btn{width:50px;height:50px;font-size:1.3rem}
            .search-input-group{flex-direction:column}
            .search-btn{padding:15px}
            .friend-request-badge{top:70px;right:10px;left:10px;text-align:center}
        }
        
        @media (max-width:480px){
            .nav-item{font-size:.7rem;min-width:55px}
            .nav-icon{font-size:1.2rem}
            .wudu-step{flex-direction:column;text-align:center;gap:15px}
            .tasbeeh-count{font-size:3rem}
            .tasbeeh-circle{width:160px;height:160px}
            .tasbeeh-btn{min-width:130px;padding:10px 20px}
            .theme-menu{width:250px}
            .theme-grid{grid-template-columns:repeat(3, 1fr);gap:10px}
            .theme-color{width:55px;height:55px}
            .quran-text-full{font-size:1.3rem;line-height:2;padding:10px}
            .quran-verse-full{font-size:1.3rem;line-height:2}
            .verse-number-full{width:28px;height:28px;line-height:28px;font-size:0.8rem}
            .quran-page-controls{flex-direction:column;gap:15px}
            .quran-page-btn{min-width:100%;padding:15px}
            .page-indicator{min-width:100%}
            .sermons-grid{grid-template-columns:1fr}
            .reciters-grid{grid-template-columns:1fr}
            .surahs-grid{grid-template-columns:repeat(2, 1fr);gap:10px}
            .modal-content{padding:20px}
            .hijri-date .date-text{font-size:1.4rem}
            .hijri-date .gregorian{font-size:1.1rem}
            .audio-controls{gap:10px}
            .audio-btn{width:45px;height:45px;font-size:1.2rem}
            .leader-item{padding:15px;gap:15px}
            .leader-avatar{width:40px;height:40px;font-size:1rem}
            .leader-name{font-size:1.1rem}
            .leader-rank{font-size:1rem;padding:6px 12px;min-width:50px}
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-header" id="main-header"><div class="user-info"><div class="user-avatar" id="user-avatar">Ù…</div><div><div class="user-name" id="user-name"></div></div></div><div class="main-title" id="page-main-title">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div><div class="settings-switcher"><div class="settings-dot" onclick="showPage('settings-page')">âš™ï¸</div></div></div>
    
    <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="home-page" class="page active">
        <div class="page-content">
            <div class="card">
                <div class="hijri-date" id="hijri-date">--</div>
            </div>
            
            <div class="card">
                <div class="level-card">
                    <div class="level-header">
                        <h3 class="level-title" id="level-name">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</h3>
                        <div class="level-number" id="level-number">1</div>
                    </div>
                    <div class="level-progress-container">
                        <div class="level-labels">
                            <span id="current-level-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</span>
                            <span id="next-level-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2</span>
                        </div>
                        <div class="level-bar">
                            <div class="level-fill" id="level-progress-fill" style="width:0%"></div>
                        </div>
                    </div>
                    <div class="level-points">
                        <span id="current-points">0</span> / <span id="needed-points">1000</span> Ù†Ù‚Ø·Ø© 
                        <div class="level-points-value" id="points-percentage" style="margin-top:10px;font-size:1.2rem">0%</div>
                    </div>
                </div>
            </div>
            
            <!-- Ù‚Ø³Ù… Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
            <div class="card">
                <div class="leaders-section">
                    <h2 class="section-title">Ø§Ù„Ù…ØªØµØ¯Ø±ÙˆÙ†</h2>
                    <div class="decorative-line"></div>
                    
                    <div id="leaders-list" class="leaders-list">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                    </div>
                    
                    <div class="search-friend-container">
                        <h3 class="leaders-title" style="font-size:1.3rem">Ø¥Ø¶Ø§ÙØ© ØµØ¯ÙŠÙ‚</h3>
                        <div class="search-input-group">
                            <input type="text" class="search-input" id="friend-search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù…...">
                            <button class="search-btn" onclick="searchFriend()">Ø¨Ø­Ø«</button>
                        </div>
                        <div id="search-results" class="search-results" style="display:none">
                            <!-- Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« -->
                        </div>
                        <div id="no-friends-message" class="no-friends-message" style="display:block">
                            <p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ØµØ¯Ù‚Ø§Ø¡ Ù…Ø¶Ø§ÙÙŠÙ† Ø¨Ø¹Ø¯.</p>
                            <p>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£Ùˆ Ø´Ø§Ø±Ùƒ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹Ù‡Ù…!</p>
                            <button class="action-btn" onclick="shareAppLink()">ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø±Ø§Ø¨Ø·</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="minbar-card" onclick="showPage('minbar-page')">
                <div class="minbar-header">
                    <div class="minbar-icon">ğŸ•Œ</div>
                    <div>
                        <h3 class="minbar-title">Ø§Ù„Ù…Ù†Ø¨Ø± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ</h3>
                    </div>
                </div>
                <p class="minbar-desc">Ø§Ø³ØªÙ…Ø¹ Ø¥Ù„Ù‰ Ø®Ø·Ø¨ Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ù…Ø¤Ø«Ø±Ø© Ù…Ù† ÙƒØ¨Ø§Ø± Ø§Ù„Ø´ÙŠÙˆØ® ÙˆØ§Ù„Ø¯Ø¹Ø§Ø©</p>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„Ù…Ù†Ø¨Ø± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ -->
    <div id="minbar-page" class="page"><div class="page-content"><div class="card"><div class="minbar-container"><h2 class="section-title">Ø§Ù„Ù…Ù†Ø¨Ø± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ</h2><div class="decorative-line"></div><p style="text-align:center;color:var(--gold);margin-bottom:25px;font-size:1.1rem;opacity:.9">Ø§Ø®ØªØ± Ø®Ø·Ø¨Ø© Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„ÙŠÙ‡Ø§</p><div class="sermons-grid">
        <div class="sermon-card" onclick="openSermon('https://youtu.be/TTlnoFztl6E?si=reEnEF3dTax04DS4')"><div class="sermon-title">Ø§Ù„ØªÙˆØ¨Ø© Ø§Ù„Ù†ØµÙˆØ­Ø©</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® Ø£Ø­Ù…Ø¯ Ø§Ù„Ù†ÙÙŠØ³</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/AH7kbk9Smdk?si=1pGbIEhqhN_gS9DP')"><div class="sermon-title">ÙƒÙŠÙ ÙŠØºÙŠØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ù†ÙÙˆØ³Ù†Ø§</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® Ø£Ø­Ù…Ø¯ Ø§Ù„Ù†ÙÙŠØ³</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/BV8JxZJZdIc?si=DONvdLkvKO0BNn7B')"><div class="sermon-title">ØµÙØ© Ø§Ù„Ù†Ø§Ø±</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® Ø£Ø­Ù…Ø¯ Ø§Ù„Ù†ÙÙŠØ³</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/Ceti5Xc_oI0?si=QhKsJNjdD0Hq5nnF')"><div class="sermon-title">ÙƒÙŠÙ ÙƒØ§Ù†Øª ØµÙ„Ø§ØªÙ‡Ù…</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® Ø£Ø­Ù…Ø¯ Ø§Ù„Ù†ÙÙŠØ³</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/m-g98Rae79c?si=rKXLYSaiHTI_FLVW')"><div class="sermon-title">Ù…ØªÙ‰ Ù†ØµØ± Ø§Ù„Ù„Ù‡</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® Ø£Ø­Ù…Ø¯ Ø§Ù„Ù†ÙÙŠØ³</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/FpIE8dmOSbU?si=Ubs5XZZ7jGDoQr3I')"><div class="sermon-title">"ÙˆÙ‚Ø§Ù„ Ø±Ø¨ÙƒÙ… Ø§Ø¯Ø¹ÙˆÙ†ÙŠ Ø§Ø³ØªØ¬Ø¨ Ù„ÙƒÙ…"</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/rjxrG2qVhYE?si=8Tp059Gnmzgb5T_5')"><div class="sermon-title">Ù…ÙƒØ§Ø±Ù… Ø§Ù„Ø£Ø®Ù„Ø§Ù‚</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/YJ3_i3K8xYo?si=bI8QHGrmBZUk-o3i')"><div class="sermon-title">ÙØ¶Ù„ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/4nbTOGAt1Aw?si=kordBnB64VBarWDJ')"><div class="sermon-title">ÙØ¶Ù„ Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ£Ø³Ø±Ø§Ø±Ù‡Ø§</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
        <div class="sermon-card" onclick="openSermon('https://youtu.be/ZFxasHPL2Co?si=5Li5sB9ZqVOLUQio')"><div class="sermon-title">Ø¸Ù„Ù… Ø§Ù„Ø¹Ø¨Ø§Ø¯</div><div class="sermon-sheikh">Ø§Ù„Ø´ÙŠØ® Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø³Ø¯ÙŠØ³</div><div class="sermon-play">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø·Ø¨Ø©</div></div>
    </div><div style="text-align:center;margin-top:25px"><button class="action-btn" onclick="showPage('home-page')">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button></div></div></div></div></div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„ØµÙ„Ø§Ø© -->
    <div id="prayer-page" class="page"><div class="page-content"><div class="card"><h2 class="section-title">Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©</h2><div class="decorative-line"></div><div class="internal-menu"><div class="menu-item" onclick="showPage('prayer-table-page')"><div class="menu-icon">ğŸ“‹</div><div class="menu-content"><h3 class="menu-title">Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØµÙ„Ø§Ø©</h3><p class="menu-desc">Ø³Ø¬Ù„ ØµÙ„ÙˆØ§ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø·</p></div></div><div class="menu-item" onclick="showPage('wudu-page')"><div class="menu-icon">ğŸš°</div><div class="menu-content"><h3 class="menu-title">ÙƒÙŠÙÙŠØ© Ø§Ù„ÙˆØ¶ÙˆØ¡</h3><p class="menu-desc">ØªØ¹Ù„Ù… Ø®Ø·ÙˆØ§Øª Ø§Ù„ÙˆØ¶ÙˆØ¡ Ø§Ù„ØµØ­ÙŠØ­</p></div></div></div></div></div></div>
    
    <!-- ØµÙØ­Ø© Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØµÙ„Ø§Ø© -->
    <div id="prayer-table-page" class="page"><div class="page-content"><div class="card"><div class="prayer-table-container"><div class="hijri-date" id="prayer-table-date">--/--/----</div><h2 class="section-title">Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2><div class="decorative-line"></div><p style="text-align:center;color:var(--gold);margin-bottom:25px;font-size:1.1rem;opacity:.9">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ù†Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø© - ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø®Ø§Ù†ØªÙŠÙ† Ù„ÙƒÙ„ ØµÙ„Ø§Ø©</p><table class="prayer-table" id="prayer-table"><thead><tr><th>Ø§Ù„ØµÙ„Ø§Ø©</th><th>Ø§Ù„Ø¬Ù…Ø§Ø¹Ø©<br><span style="font-size:0.9rem;color:#000">100 Ù†Ù‚Ø·Ø©</span></th><th>Ø§Ù„Ù…ÙØ±Ø¯<br><span style="font-size:0.9rem;color:#000">70 Ù†Ù‚Ø·Ø©</span></th><th>Ø§Ù„Ù…ØªØ£Ø®Ø±<br><span style="font-size:0.9rem;color:#000">50 Ù†Ù‚Ø·Ø©</span></th><th>Ø§Ù„Ù†Ø§ÙÙ„Ø©<br><span style="font-size:0.9rem;color:#000">50 Ù†Ù‚Ø·Ø©</span></th></tr></thead><tbody id="prayer-table-body"></tbody></table><div class="prayer-summary"><div class="prayer-total-points" id="prayer-total-points">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…: 0 Ù†Ù‚Ø·Ø©</div><div class="prayer-total-points" id="prayer-today-points">Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…: 0</div></div><div style="text-align:center;margin-top:25px"><button class="action-btn" onclick="showPage('prayer-page')">Ø§Ù„Ø¹ÙˆØ¯Ø©</button></div></div></div></div></div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„ÙˆØ¶ÙˆØ¡ -->
    <div id="wudu-page" class="page"><div class="page-content"><div class="card"><div class="wudu-container"><h2 class="section-title">ÙƒÙŠÙÙŠØ© Ø§Ù„ÙˆØ¶ÙˆØ¡ Ø§Ù„ØµØ­ÙŠØ­</h2><div class="decorative-line"></div><div class="wudu-steps"><div class="wudu-step"><div class="wudu-step-number">Ù¡</div><div class="wudu-step-text">Ø§Ù„Ù†ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ù„Ø¨ Ø«Ù… Ù‚ÙˆÙ„ "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡"</div></div><div class="wudu-step"><div class="wudu-step-number">Ù¢</div><div class="wudu-step-text">ØºØ³Ù„ Ø§Ù„ÙƒÙÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª</div></div><div class="wudu-step"><div class="wudu-step-number">Ù£</div><div class="wudu-step-text">Ø§Ù„Ù…Ø¶Ù…Ø¶Ø© ÙˆØ§Ù„Ø§Ø³ØªÙ†Ø´Ø§Ù‚ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª</div></div><div class="wudu-step"><div class="wudu-step-number">Ù¤</div><div class="wudu-step-text">ØºØ³Ù„ Ø§Ù„ÙˆØ¬Ù‡ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª</div></div><div class="wudu-step"><div class="wudu-step-number">Ù¥</div><div class="wudu-step-text">ØºØ³Ù„ Ø§Ù„ÙŠØ¯ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±ÙÙ‚ÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª</div></div><div class="wudu-step"><div class="wudu-step-number">Ù¦</div><div class="wudu-step-text">Ù…Ø³Ø­ Ø§Ù„Ø±Ø£Ø³ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©</div></div><div class="wudu-step"><div class="wudu-step-number">Ù§</div><div class="wudu-step-text">ØºØ³Ù„ Ø§Ù„Ø±Ø¬Ù„ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ¹Ø¨ÙŠÙ† Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª</div></div><div class="wudu-step"><div class="wudu-step-number">Ù¨</div><div class="wudu-step-text">Ù‚ÙˆÙ„ Ø§Ù„Ø´Ù‡Ø§Ø¯ØªÙŠÙ† Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</div></div></div><div style="text-align:center;margin-top:25px;color:var(--gold);padding:20px;background:rgba(212,175,55,.1);border-radius:15px;border:1px solid rgba(212,175,55,.3)"><p style="font-size:1.2rem;margin:0;line-height:1.8">"ÙŠØ§ Ø§ÙŠÙ‡Ø§ Ø§Ù„Ø°ÙŠÙ† Ø§Ù…Ù†ÙˆØ§ Ø§Ø°Ø§ Ù‚Ù…ØªÙ… Ø§Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø© ÙØ§ØºØ³Ù„ÙˆØ§ ÙˆØ¬ÙˆÙ‡ÙƒÙ… ÙˆØ§ÙŠØ¯ÙŠÙƒÙ… Ø§Ù„Ù‰ Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ÙˆØ§Ù…Ø³Ø­ÙˆØ§ Ø¨Ø±Ø¡ÙˆØ³ÙƒÙ… ÙˆØ§Ø±Ø¬Ù„ÙƒÙ… Ø§Ù„Ù‰ Ø§Ù„ÙƒØ¹Ø¨ÙŠÙ†"</p><p style="font-size:1rem;margin-top:15px;opacity:.9">Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø§Ø¦Ø¯Ø© - Ø§Ù„Ø¢ÙŠØ© 6</p></div></div></div></div></div>
    
    <!-- ØµÙØ­Ø§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø± - ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø© -->
    <div id="azkar-page" class="page">
        <div class="page-content">
            <div class="card">
                <h2 class="section-title">Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø±</h2>
                <div class="decorative-line"></div>
                <div class="internal-menu">
                    <div class="menu-item" onclick="showPage('morning-azkar-page')">
                        <div class="menu-icon">ğŸŒ…</div>
                        <div class="menu-content">
                            <h3 class="menu-title">Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</h3>
                            <p class="menu-desc">Ø£Ø°ÙƒØ§Ø± ÙˆØ£Ø¯Ø¹ÙŠØ© Ø§Ù„ØµØ¨Ø§Ø­</p>
                        </div>
                    </div>
                    <div class="menu-item" onclick="showPage('evening-azkar-page')">
                        <div class="menu-icon">ğŸŒ‡</div>
                        <div class="menu-content">
                            <h3 class="menu-title">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</h3>
                            <p class="menu-desc">Ø£Ø°ÙƒØ§Ø± ÙˆØ£Ø¯Ø¹ÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¡</p>
                        </div>
                    </div>
                    <div class="menu-item" onclick="showPage('sleep-azkar-page')">
                        <div class="menu-icon">ğŸŒ™</div>
                        <div class="menu-content">
                            <h3 class="menu-title">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</h3>
                            <p class="menu-desc">Ø£Ø°ÙƒØ§Ø± ÙˆØ£Ø¯Ø¹ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…</p>
                        </div>
                    </div>
                    <div class="menu-item" onclick="showPage('wakeup-azkar-page')">
                        <div class="menu-icon">â°</div>
                        <div class="menu-content">
                            <h3 class="menu-title">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸</h3>
                            <p class="menu-desc">Ø£Ø°ÙƒØ§Ø± ÙˆØ£Ø¯Ø¹ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸</p>
                        </div>
                    </div>
                    <!-- Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯: Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø© -->
                    <div class="menu-item" onclick="showPage('after-prayer-azkar-page')">
                        <div class="menu-icon">ğŸ•Œ</div>
                        <div class="menu-content">
                            <h3 class="menu-title">Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©</h3>
                            <p class="menu-desc">Ø£Ø°ÙƒØ§Ø± ÙˆØ£Ø¯Ø¹ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ -->
    <div id="morning-azkar-page" class="page">
        <div class="page-content">
            <div class="card">
                <div class="azkar-container">
                    <h2 class="section-title">Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</h2>
                    <div class="decorative-line"></div>
                    <div style="color:var(--gold);margin-bottom:20px;font-weight:bold;font-size:1.1rem" id="morning-counter">Ù¡ Ù…Ù† Ù§</div>
                    <div class="azkar-text" id="morning-text"></div>
                    <div class="azkar-controls">
                        <button class="action-btn" onclick="prevMorningAzkar()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                        <button class="action-btn" onclick="nextMorningAzkar()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                        <button class="action-btn" onclick="editCurrentAzkar('morning')">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡ -->
    <div id="evening-azkar-page" class="page">
        <div class="page-content">
            <div class="card">
                <div class="azkar-container">
                    <h2 class="section-title">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</h2>
                    <div class="decorative-line"></div>
                    <div style="color:var(--gold);margin-bottom:20px;font-weight:bold;font-size:1.1rem" id="evening-counter">Ù¡ Ù…Ù† Ù§</div>
                    <div class="azkar-text" id="evening-text"></div>
                    <div class="azkar-controls">
                        <button class="action-btn" onclick="prevEveningAzkar()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                        <button class="action-btn" onclick="nextEveningAzkar()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                        <button class="action-btn" onclick="editCurrentAzkar('evening')">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ… -->
    <div id="sleep-azkar-page" class="page">
        <div class="page-content">
            <div class="card">
                <div class="azkar-container">
                    <h2 class="section-title">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</h2>
                    <div class="decorative-line"></div>
                    <div style="color:var(--gold);margin-bottom:20px;font-weight:bold;font-size:1.1rem" id="sleep-counter">Ù¡ Ù…Ù† Ù¥</div>
                    <div class="azkar-text" id="sleep-text"></div>
                    <div class="azkar-controls">
                        <button class="action-btn" onclick="prevSleepAzkar()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                        <button class="action-btn" onclick="nextSleepAzkar()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                        <button class="action-btn" onclick="editCurrentAzkar('sleep')">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ -->
    <div id="wakeup-azkar-page" class="page">
        <div class="page-content">
            <div class="card">
                <div class="azkar-container">
                    <h2 class="section-title">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸</h2>
                    <div class="decorative-line"></div>
                    <div style="color:var(--gold);margin-bottom:20px;font-weight:bold;font-size:1.1rem" id="wakeup-counter">Ù¡ Ù…Ù† Ù¦</div>
                    <div class="azkar-text" id="wakeup-text"></div>
                    <div class="azkar-controls">
                        <button class="action-btn" onclick="prevWakeupAzkar()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                        <button class="action-btn" onclick="nextWakeupAzkar()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                        <button class="action-btn" onclick="editCurrentAzkar('wakeup')">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø© - Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
    <div id="after-prayer-azkar-page" class="page">
        <div class="page-content">
            <div class="card">
                <div class="azkar-container">
                    <h2 class="section-title">Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©</h2>
                    <div class="decorative-line"></div>
                    <div style="color:var(--gold);margin-bottom:20px;font-weight:bold;font-size:1.1rem" id="after-prayer-counter">Ù¡ Ù…Ù† Ù¨</div>
                    <div class="azkar-text" id="after-prayer-text"></div>
                    <div class="azkar-controls">
                        <button class="action-btn" onclick="prevAfterPrayerAzkar()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                        <button class="action-btn" onclick="nextAfterPrayerAzkar()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                        <button class="action-btn" onclick="editCurrentAzkar('after-prayer')">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="quran-page" class="page"><div class="page-content"><div class="card"><div class="quran-container"><h2 class="section-title">Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h2><div class="decorative-line"></div><div class="internal-menu"><div class="menu-item" onclick="showPage('read-quran-page')"><div class="menu-icon">ğŸ“–</div><div class="menu-content"><h3 class="menu-title">Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†</h3><p class="menu-desc">Ù‚Ø±Ø§Ø¡Ø© Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙƒØ§Ù…Ù„Ø©</p></div></div><div class="menu-item" onclick="showPage('listen-quran-page')"><div class="menu-icon">ğŸ§</div><div class="menu-content"><h3 class="menu-title">Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù†</h3><p class="menu-desc">Ø§Ø³ØªÙ…Ø¹ Ø¥Ù„Ù‰ ØªÙ„Ø§ÙˆØ§Øª Ù‚Ø±Ø¢Ù†ÙŠØ© Ø¨ØµÙˆØª Ø§Ù„Ø´ÙŠÙˆØ®</p></div></div></div></div></div></div></div>
    
    <!-- ØµÙØ­Ø© Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† -->
    <div id="read-quran-page" class="page"><div class="page-content"><div class="card"><div class="surah-list-container"><h2 class="section-title">Ø§Ø®ØªØ± Ø³ÙˆØ±Ø© Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©</h2><div class="decorative-line"></div><div class="surah-list-item" onclick="showFullSurah('alkahf')"><div class="surah-list-title">Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù</div><div class="surah-list-info">110 Ø¢ÙŠØ§Øª</div></div><div class="surah-list-item" onclick="showFullSurah('almulk')"><div class="surah-list-title">Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ</div><div class="surah-list-info">30 Ø¢ÙŠØ©</div></div><div style="text-align:center;margin-top:25px"><button class="action-btn" onclick="showPage('quran-page')">Ø§Ù„Ø¹ÙˆØ¯Ø©</button></div></div></div></div></div>
    
    <!-- ØµÙØ­Ø§Øª Ø§Ù„Ø³ÙˆØ± Ø§Ù„ÙƒØ§Ù…Ù„Ø© -->
    <div id="alkahf-full-page" class="page">
        <div class="page-content">
            <div class="card">
                <h2 class="section-title">Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù</h2>
                <div class="decorative-line"></div>
                <div class="quran-bismillah">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù</div>
                <div class="page-indicator" id="alkahf-page-indicator">Ø§Ù„ØµÙØ­Ø© 1 Ù…Ù† 12</div>
                <div class="quran-text-full">
                    <div class="quran-text" id="alkahf-full-text"></div>
                </div>
                <div class="quran-page-controls">
                    <button class="quran-page-btn" onclick="prevPage('alkahf')">Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</button>
                    <div class="page-indicator" id="alkahf-page-display">Ø§Ù„ØµÙØ­Ø© 1</div>
                    <button class="quran-page-btn" onclick="nextPage('alkahf')">Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</button>
                </div>
                <div style="text-align:center;margin-top:25px">
                    <button class="action-btn" onclick="showPage('read-quran-page')">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙˆØ±</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="almulk-full-page" class="page">
        <div class="page-content">
            <div class="card">
                <h2 class="section-title">Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ</h2>
                <div class="decorative-line"></div>
                <div class="quran-bismillah">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù</div>
                <div class="page-indicator" id="almulk-page-indicator">Ø§Ù„ØµÙØ­Ø© 1 Ù…Ù† 2</div>
                <div class="quran-text-full">
                    <div class="quran-text" id="almulk-full-text"></div>
                </div>
                <div class="quran-page-controls">
                    <button class="quran-page-btn" onclick="prevPage('almulk')">Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</button>
                    <div class="page-indicator" id="almulk-page-display">Ø§Ù„ØµÙØ­Ø© 1</div>
                    <button class="quran-page-btn" onclick="nextPage('almulk')">Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</button>
                </div>
                <div style="text-align:center;margin-top:25px">
                    <button class="action-btn" onclick="showPage('read-quran-page')">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙˆØ±</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù† -->
    <div id="listen-quran-page" class="page"><div class="page-content"><div class="card"><div class="quran-container"><h2 class="section-title">Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù†</h2><div class="decorative-line"></div><p style="text-align:center;color:var(--gold);margin-bottom:25px;font-size:1.1rem;opacity:.9">Ø§Ø³ØªÙ…Ø¹ Ø¥Ù„Ù‰ ØªÙ„Ø§ÙˆØ§Øª Ù‚Ø±Ø¢Ù†ÙŠØ© Ø¨ØµÙˆØª Ø§Ù„Ø´ÙŠÙˆØ®</p><div class="reciters-grid" id="reciters-list">
        <div class="reciter-card" onclick="showSheikhSurahs('ahmad-al-nafees')"><div class="reciter-title">Ø§Ù„Ø´ÙŠØ® Ø£Ø­Ù…Ø¯ Ø§Ù„Ù†ÙÙŠØ³</div><div class="reciter-desc">Ø§Ø¶ØºØ· Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…ØªØ§Ø­Ø©</div></div>
        <div class="reciter-card" onclick="showSheikhSurahs('yaser-al-dosari')"><div class="reciter-title">Ø§Ù„Ø´ÙŠØ® ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ</div><div class="reciter-desc">Ø§Ø¶ØºØ· Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…ØªØ§Ø­Ø©</div></div>
        <div class="reciter-card" onclick="showSheikhSurahs('mishari-al-afasy')"><div class="reciter-title">Ø§Ù„Ø´ÙŠØ® Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ</div><div class="reciter-desc">Ø§Ø¶ØºØ· Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…ØªØ§Ø­Ø©</div></div>
        <div class="reciter-card" onclick="showSheikhSurahs('wadee-al-yamani')"><div class="reciter-title">Ø§Ù„Ø´ÙŠØ® ÙˆØ¯ÙŠØ¹ Ø§Ù„ÙŠÙ…Ù†ÙŠ</div><div class="reciter-desc">Ø§Ø¶ØºØ· Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…ØªØ§Ø­Ø©</div></div>
        <div class="reciter-card" onclick="showSheikhSurahs('abdulrahman-al-sudais')"><div class="reciter-title">Ø§Ù„Ø´ÙŠØ® Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø³Ø¯ÙŠØ³</div><div class="reciter-desc">Ø§Ø¶ØºØ· Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…ØªØ§Ø­Ø©</div></div>
    </div><div id="surahs-container" style="display:none;margin-top:35px"><div class="section-title" id="sheikh-name"></div><div class="decorative-line"></div><div class="surahs-grid" id="surahs-list"></div><div class="add-custom-surah">
        <div class="add-custom-surah-text">+ Ø¥Ø¶Ø§ÙØ© Ø³ÙˆØ±Ø© Ù…Ø®ØµØµØ©</div>
        <button class="add-file-btn" onclick="document.getElementById('audio-file-input').click()">
            <span>ğŸ“ Ø¥Ø¶Ø§ÙØ© Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª</span>
        </button>
        <!-- Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨ Ø¬Ø¯ÙŠØ¯ -->
        <button class="add-file-btn" onclick="showAddYouTubeModal()" style="margin-top:10px">
            <span>ğŸ”— Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨</span>
        </button>
        <input type="file" id="audio-file-input" class="file-input" accept="audio/*" onchange="handleAudioFileUpload(this)">
    </div><div style="text-align:center;margin-top:25px"><button class="action-btn" onclick="showRecitersList()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø´ÙŠÙˆØ®</button></div></div></div></div></div></div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„ØªØ³Ø¨ÙŠØ­ - Ù…Ø­Ø³Ù†Ø© ÙˆÙ…ØªÙ†Ø§Ø³Ù‚Ø© Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„ Ø²Ø± +33 ØªØ³Ø¨ÙŠØ­Ø© -->
    <div id="tasbeeh-page" class="page">
        <div class="page-content">
            <div class="card">
                <div class="tasbeeh-container">
                    <h2 class="section-title">Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ³Ø¨ÙŠØ­</h2>
                    <div class="decorative-line"></div>
                    <div class="tasbeeh-count" id="tasbeeh-count">0</div>
                    <div class="tasbeeh-circle" onclick="addTasbeeh(1)">
                        <div class="tasbeeh-text">Ø§Ø¶ØºØ· Ù„Ù„ØªØ³Ø¨ÙŠØ­</div>
                    </div>
                    <div class="tasbeeh-controls">
                        <button class="tasbeeh-btn" onclick="resetTasbeeh()">ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯</button>
                        <button class="tasbeeh-btn" onclick="setTasbeehGoal()">âš¡ ØªØ­Ø¯ÙŠØ¯ Ù‡Ø¯Ù</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„Ù…Ù‡Ø§Ù… -->
    <div id="tasks-page" class="page"><div class="page-content"><div class="card"><h2 class="section-title">Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…</h2><div class="decorative-line"></div><p style="text-align:center;color:var(--gold);margin-bottom:25px;font-size:1.1rem;opacity:.9">Ø£Ø¶Ù Ù…Ù‡Ø§Ù…Ùƒ Ø§Ù„Ø®Ø§ØµØ© ÙˆØ£ÙƒÙ…Ù„Ù‡Ø§ Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ©</p><div class="tasks-container" id="daily-tasks"></div><div class="add-task-container" onclick="showAddTaskModal()"><div class="add-task-icon">+</div><div class="add-task-content">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</div></div></div></div></div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
    <div id="settings-page" class="page"><div class="page-content"><div class="card"><div class="settings-page-content"><h2 class="section-title">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2><div class="decorative-line"></div><div class="settings-option" onclick="showChangeNameModal()"><div class="settings-option-icon">ğŸ‘¤</div><div class="settings-option-content"><h3 class="settings-option-title">ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù…</h3><p class="settings-option-desc">ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</p></div></div><div class="settings-option" onclick="showThemesMenu()"><div class="settings-option-icon">ğŸ¨</div><div class="settings-option-content"><h3 class="settings-option-title">Ø§Ù„Ø³Ù…Ø§Øª</h3><p class="settings-option-desc">ØªØºÙŠÙŠØ± Ù…Ø¸Ù‡Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</p></div></div><div class="settings-option" onclick="showPage('other-sites-page')"><div class="settings-option-icon">ğŸ”—</div><div class="settings-option-content"><h3 class="settings-option-title">Ù…ÙˆØ§Ù‚Ø¹ Ø£Ø®Ø±Ù‰</h3><p class="settings-option-desc">Ù…ÙˆØ§Ù‚Ø¹ Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ù…ÙÙŠØ¯Ø©</p></div></div><div class="settings-option" onclick="showPage('sources-page')"><div class="settings-option-icon">ğŸ“š</div><div class="settings-option-content"><h3 class="settings-option-title">Ø§Ù„Ù…ØµØ§Ø¯Ø±</h3><p class="settings-option-desc">Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù„Ø£Ø°ÙƒØ§Ø± ÙˆØ§Ù„Ø¢ÙŠØ§Øª</p></div></div><div class="settings-option" onclick="resetUserData()"><div class="settings-option-icon">ğŸ”„</div><div class="settings-option-content"><h3 class="settings-option-title">ØªØµÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3><p class="settings-option-desc">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù…Ø§ ÙÙŠÙ‡Ø§ Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ø³ÙˆØ± ÙˆØ§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø®ØµØµØ©</p></div></div></div></div></div></div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø£Ø®Ø±Ù‰ -->
    <div id="other-sites-page" class="page">
        <div class="page-content">
            <div class="card">
                <h2 class="section-title">Ù…ÙˆØ§Ù‚Ø¹ Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ù…ÙÙŠØ¯Ø©</h2>
                <div class="decorative-line"></div>
                <p style="text-align:center;color:var(--gold);margin-bottom:25px;font-size:1.1rem;opacity:.9">Ù…ÙˆØ§Ù‚Ø¹ Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ù…ÙÙŠØ¯Ø© Ù„Ù„Ø§Ø³ØªØ²Ø§Ø¯Ø© Ù…Ù† Ø§Ù„Ø¹Ù„Ù…</p>
                <div id="sites-list"></div>
                <div style="text-align:center;margin-top:25px">
                    <button class="action-btn" onclick="showPage('settings-page')">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØµÙØ­Ø© Ø§Ù„Ù…ØµØ§Ø¯Ø± -->
    <div id="sources-page" class="page">
        <div class="page-content">
            <div class="card">
                <h2 class="section-title">Ø§Ù„Ù…ØµØ§Ø¯Ø±</h2>
                <div class="decorative-line"></div>
                <div id="sources-list"></div>
                <div style="text-align:center;margin-top:25px">
                    <button class="action-btn" onclick="showPage('settings-page')">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ -->
    <div class="bottom-nav" id="bottom-nav"><button class="nav-item active" onclick="showPage('home-page')"><span class="nav-icon">ğŸ </span><span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></button><button class="nav-item" onclick="showPage('quran-page')"><span class="nav-icon">ğŸ“–</span><span>Ø§Ù„Ù‚Ø±Ø¢Ù†</span></button><button class="nav-item" onclick="showPage('prayer-page')"><span class="nav-icon">ğŸ•Œ</span><span>Ø§Ù„ØµÙ„Ø§Ø©</span></button><button class="nav-item" onclick="showPage('azkar-page')"><span class="nav-icon">ğŸ“¿</span><span>Ø§Ù„Ø£Ø°ÙƒØ§Ø±</span></button><button class="nav-item" onclick="showPage('tasbeeh-page')"><span class="nav-icon">ğŸ§®</span><span>Ø§Ù„ØªØ³Ø¨ÙŠØ­</span></button><button class="nav-item" onclick="showPage('tasks-page')"><span class="nav-icon">âœ…</span><span>Ø§Ù„Ù…Ù‡Ø§Ù…</span></button></div>
    
    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù…Ø§Øª - ÙÙŠ ÙˆØ³Ø· Ø§Ù„Ø´Ø§Ø´Ø© -->
    <div class="theme-menu" id="theme-menu">
        <div class="theme-title">Ø§Ø®ØªØ± Ø³Ù…Ø©</div>
        <div class="decorative-line"></div>
        <div class="theme-grid">
            <div class="theme-color" style="background:#0b3d2e" onclick="changeTheme('green')">âœ”ï¸</div>
            <div class="theme-color" style="background:#0a1929" onclick="changeTheme('dark')"></div>
            <div class="theme-color" style="background:#3a2c0a" onclick="changeTheme('gold')"></div>
            <div class="theme-color" style="background:#001f3f" onclick="changeTheme('navy')"></div>
            <div class="theme-color" style="background:#3b0000" onclick="changeTheme('red')"></div>
            <div class="theme-color" style="background:#003366" onclick="changeTheme('blue')"></div>
            <div class="theme-color" style="background:#fff;color:#000" onclick="changeTheme('white')"></div>
            <div class="theme-color" style="background:#ff6b00" onclick="changeTheme('orange')"></div>
            <div class="theme-color" style="background:#4b0082" onclick="changeTheme('purple')"></div>
        </div>
        <div style="text-align:center;margin-top:20px">
            <button class="action-btn" onclick="closeThemeMenu()">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>
    
    <!-- Ù†ÙˆØ§ÙØ° Ù…Ø­Ø§Ø¯Ø«Ø© -->
    <div id="change-name-modal" class="modal-overlay" style="display:none"><div class="modal-content"><h2 class="modal-title">ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù…</h2><div class="decorative-line"></div><input type="text" id="new-name-input" class="modal-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯" maxlength="20"><div class="modal-buttons"><button class="modal-btn modal-btn-secondary" onclick="closeChangeNameModal()">Ø¥Ù„ØºØ§Ø¡</button><button class="modal-btn modal-btn-primary" onclick="saveNewName()">Ø­ÙØ¸</button></div></div></div>
    
    <div id="add-task-modal" class="modal-overlay" style="display:none"><div class="modal-content"><h2 class="modal-title">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</h2><div class="decorative-line"></div><input type="text" id="task-title-input" class="modal-input" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©" maxlength="50"><textarea id="task-desc-input" class="modal-input" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù‡Ù…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" rows="3" maxlength="200" style="text-align:right;font-family:inherit;resize:none"></textarea><div class="modal-buttons"><button class="modal-btn modal-btn-secondary" onclick="closeAddTaskModal()">Ø¥Ù„ØºØ§Ø¡</button><button class="modal-btn modal-btn-primary" onclick="saveNewTask()">Ø¥Ø¶Ø§ÙØ©</button></div></div></div>
    
    <div id="edit-task-modal" class="modal-overlay" style="display:none"><div class="modal-content"><h2 class="modal-title">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‡Ù…Ø©</h2><div class="decorative-line"></div><input type="text" id="edit-task-title-input" class="modal-input" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©" maxlength="50"><textarea id="edit-task-desc-input" class="modal-input" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù‡Ù…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" rows="3" maxlength="200" style="text-align:right;font-family:inherit;resize:none"></textarea><input type="hidden" id="edit-task-id"><div class="modal-buttons"><button class="modal-btn modal-btn-secondary" onclick="closeEditTaskModal()">Ø¥Ù„ØºØ§Ø¡</button><button class="modal-btn modal-btn-success" onclick="saveEditedTask()">Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button><button class="modal-btn modal-btn-danger" onclick="deleteTask()">Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø©</button></div></div></div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ø³ÙˆØ±Ø© Ù…Ø®ØµØµØ© - ØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡Ø§ -->
    <div id="add-custom-surah-modal" class="modal-overlay" style="display:none"><div class="modal-content"><h2 class="modal-title">Ø¥Ø¶Ø§ÙØ© Ø³ÙˆØ±Ø© Ù…Ø®ØµØµØ©</h2><div class="decorative-line"></div><input type="text" id="custom-surah-title-input" class="modal-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø©" maxlength="50"><input type="text" id="custom-surah-url-input" class="modal-input" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" maxlength="500"><div style="text-align:center;margin:15px 0;color:var(--gold);font-weight:bold">Ø£Ùˆ</div><div style="text-align:center"><button class="action-btn" onclick="document.getElementById('audio-file-input').click()">ğŸ“ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù ØµÙˆØªÙŠ</button></div><input type="hidden" id="current-sheikh-id"><div class="modal-buttons"><button class="modal-btn modal-btn-secondary" onclick="closeAddCustomSurahModal()">Ø¥Ù„ØºØ§Ø¡</button><button class="modal-btn modal-btn-primary" onclick="saveCustomSurah()">Ø¥Ø¶Ø§ÙØ©</button></div></div></div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨ ÙÙ‚Ø· -->
    <div id="add-youtube-modal" class="modal-overlay" style="display:none">
        <div class="modal-content">
            <h2 class="modal-title">Ø¥Ø¶Ø§ÙØ© Ø³ÙˆØ±Ø© Ø¨Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨</h2>
            <div class="decorative-line"></div>
            <input type="text" id="youtube-surah-title-input" class="modal-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø©" maxlength="50">
            <input type="text" id="youtube-surah-url-input" class="modal-input" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨" maxlength="500">
            <input type="hidden" id="youtube-sheikh-id">
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-secondary" onclick="closeAddYouTubeModal()">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="modal-btn modal-btn-primary" onclick="saveYouTubeSurah()">Ø¥Ø¶Ø§ÙØ©</button>
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø°ÙƒØ§Ø± -->
    <div id="edit-azkar-modal" class="modal-overlay" style="display:none">
        <div class="modal-content">
            <h2 class="modal-title" id="edit-azkar-title">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø°ÙƒØ±</h2>
            <div class="decorative-line"></div>
            <input type="hidden" id="edit-azkar-type">
            <input type="hidden" id="edit-azkar-index">
            <textarea id="edit-azkar-text-input" class="modal-input" placeholder="Ù†Øµ Ø§Ù„Ø°ÙƒØ±" rows="6" maxlength="1000" style="text-align:right;font-family:inherit;resize:none"></textarea>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-secondary" onclick="closeEditAzkarModal()">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="modal-btn modal-btn-success" onclick="saveEditedAzkar()">Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„</button>
                <button class="modal-btn modal-btn-primary" onclick="resetAzkarToDefault()">Ø¥Ø¹Ø§Ø¯Ø© Ù„Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</button>
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© ØªØ­Ø¯ÙŠØ¯ Ù‡Ø¯Ù Ø§Ù„ØªØ³Ø¨ÙŠØ­ -->
    <div id="tasbeeh-goal-modal" class="modal-overlay" style="display:none">
        <div class="modal-content">
            <h2 class="modal-title">ØªØ­Ø¯ÙŠØ¯ Ù‡Ø¯Ù Ø§Ù„ØªØ³Ø¨ÙŠØ­</h2>
            <div class="decorative-line"></div>
            <input type="number" id="tasbeeh-goal-input" class="modal-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‡Ø¯Ù (Ù…Ø«Ø§Ù„: 100)" min="1" max="10000">
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-secondary" onclick="closeTasbeehGoalModal()">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="modal-btn modal-btn-primary" onclick="saveTasbeehGoal()">Ø­ÙØ¸ Ø§Ù„Ù‡Ø¯Ù</button>
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª Ù„Ù„Ø³ÙˆØ± Ø§Ù„Ù…Ø®ØµØµØ© - Ù…Ø¹ Ø§Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙ‚Ø· -->
    <div id="audio-player-modal" class="modal-overlay" style="display:none">
        <div class="modal-content" style="max-width:500px">
            <h2 class="modal-title" id="audio-player-title">Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª</h2>
            <div class="decorative-line"></div>
            <div class="audio-player-container">
                <div class="audio-player-title" id="current-audio-title">--</div>
                <div class="audio-controls">
                    <button class="audio-btn" onclick="skipBackward()" title="Ø±Ø¬ÙˆØ¹ 5 Ø«ÙˆØ§Ù†ÙŠ">âª</button>
                    <button class="audio-btn" onclick="togglePlay()" id="play-pause-btn" title="ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù">â–¶ï¸</button>
                    <button class="audio-btn" onclick="skipForward()" title="ØªÙ‚Ø¯ÙŠÙ… 5 Ø«ÙˆØ§Ù†ÙŠ">â©</button>
                </div>
                <div class="progress-container" id="audio-progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="time-display">
                    <span id="current-time">00:00</span>
                    <span id="total-time">00:00</span>
                </div>
                <div class="volume-control">
                    <span>ğŸ”Š</span>
                    <input type="range" min="0" max="100" value="50" class="volume-slider" id="volume-slider" oninput="changeVolume(this.value)">
                </div>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-secondary" onclick="closeAudioPlayer()">Ø¥ØºÙ„Ø§Ù‚</button>
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø·Ù„Ø¨ ØµØ¯Ø§Ù‚Ø© -->
    <div id="friend-request-modal" class="modal-overlay" style="display:none">
        <div class="modal-content">
            <h2 class="modal-title">Ø·Ù„Ø¨ ØµØ¯Ø§Ù‚Ø©</h2>
            <div class="decorative-line"></div>
            <p id="friend-request-message" style="text-align:center;font-size:1.1rem;margin-bottom:25px;color:var(--text)"></p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-secondary" onclick="declineFriendRequest()">Ø±ÙØ¶</button>
                <button class="modal-btn modal-btn-primary" onclick="acceptFriendRequest()">Ù‚Ø¨ÙˆÙ„</button>
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø±Ø§Ø¨Ø· -->
    <div id="share-link-modal" class="modal-overlay" style="display:none">
        <div class="modal-content">
            <h2 class="modal-title">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø±Ø§Ø¨Ø·</h2>
            <div class="decorative-line"></div>
            <p style="text-align:center;font-size:1.1rem;margin-bottom:25px;color:var(--text)">Ø´Ø§Ø±Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹ Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ:</p>
            <div class="modal-input" id="app-link" style="user-select:all;cursor:text;background:rgba(255,255,255,.05);font-size:0.9rem;word-break:break-all"></div>
            <p style="text-align:center;font-size:1rem;margin-top:20px;color:var(--gold)">Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµØ¯ÙŠÙ‚ Ù„Ù„Ø±Ø§Ø¨Ø·ØŒ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙƒØµØ¯ÙŠÙ‚!</p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-secondary" onclick="closeShareLinkModal()">Ø¥ØºÙ„Ø§Ù‚</button>
                <button class="modal-btn modal-btn-primary" onclick="copyAppLink()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
            </div>
        </div>
    </div>
    
    <!-- Ù…Ø®ÙÙŠ Ù„Ø¹Ù†ØµØ± Ø§Ù„ØµÙˆØª -->
    <audio id="audio-player" style="display:none"></audio>
    
    <!-- Ø´Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ¯Ø§Ù‚Ø© -->
    <div id="friend-request-badge" class="friend-request-badge" style="display:none" onclick="showFriendRequestModal()">
        Ù„Ø¯ÙŠÙƒ Ø·Ù„Ø¨Ø§Øª ØµØ¯Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©!
    </div>

<script>
// Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
const userData = {
    username: 'Ù…Ø³ØªØ®Ø¯Ù…',
    userId: '',
    points: 0,
    level: 1,
    days: 0,
    streak: 0,
    lastDay: '',
    prayerTable: {},
    prayerHistory: {},
    tasbeehCount: 0,
    tasbeehGoal: 100,
    currentMorningAzkar: 0,
    currentEveningAzkar: 0,
    currentWakeupAzkar: 0,
    currentSleepAzkar: 0,
    currentAfterPrayerAzkar: 0,
    completedTasks: {},
    userTasks: [],
    theme: 'green',
    lastPrayerDay: '',
    customSites: [],
    customSources: [],
    customSurahs: {
        'ahmad-al-nafees': [],
        'yaser-al-dosari': [],
        'mishari-al-afasy': [],
        'wadee-al-yamani': [],
        'abdulrahman-al-sudais': []
    },
    modifiedAzkar: {
        morning: [],
        evening: [],
        sleep: [],
        wakeup: [],
        'after-prayer': []
    },
    audioFiles: {},
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø£ØµØ¯Ù‚Ø§Ø¡
    friends: [], // [{userId, username, points, status, avatar}]
    friendRequests: [], // Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ¯Ø§Ù‚Ø© Ø§Ù„ÙˆØ§Ø±Ø¯Ø©
    sentRequests: [] // Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ¯Ø§Ù‚Ø© Ø§Ù„Ù…Ø±Ø³Ù„Ø©
};

// Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© - Ù…Ø¹ Ø¥Ø¶Ø§ÙØ© Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©
const defaultMorningAzkar = ["Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ (Ù…Ø±Ø©): Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠ Ø§Ù„Ù‚ÙŠÙˆÙ… Ù„Ø§ ØªØ£Ø®Ø°Ù‡ Ø³Ù†Ø© ÙˆÙ„Ø§ Ù†ÙˆÙ… Ù„Ù‡ Ù…Ø§ ÙÙŠ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆÙ…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ Ù…Ù† Ø°Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ´ÙØ¹ Ø¹Ù†Ø¯Ù‡ Ø¥Ù„Ø§ Ø¨Ø¥Ø°Ù†Ù‡ ÙŠØ¹Ù„Ù… Ù…Ø§ Ø¨ÙŠÙ† Ø£ÙŠØ¯ÙŠÙ‡Ù… ÙˆÙ…Ø§ Ø®Ù„ÙÙ‡Ù… ÙˆÙ„Ø§ ÙŠØ­ÙŠØ·ÙˆÙ† Ø¨Ø´ÙŠØ¡ Ù…Ù† Ø¹Ù„Ù…Ù‡ Ø¥Ù„Ø§ Ø¨Ù…Ø§ Ø´Ø§Ø¡ ÙˆØ³Ø¹ ÙƒØ±Ø³ÙŠÙ‡ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø±Ø¶ ÙˆÙ„Ø§ ÙŠØ¤ÙˆØ¯Ù‡ Ø­ÙØ¸Ù‡Ù…Ø§ ÙˆÙ‡Ùˆ Ø§Ù„Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¸ÙŠÙ…","Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ (3 Ù…Ø±Ø§Øª): Ù‚Ù„ Ù‡Ùˆ Ø§Ù„Ù„Ù‡ Ø£Ø­Ø¯ØŒ Ø§Ù„Ù„Ù‡ Ø§Ù„ØµÙ…Ø¯ØŒ Ù„Ù… ÙŠÙ„Ø¯ ÙˆÙ„Ù… ÙŠÙˆÙ„Ø¯ØŒ ÙˆÙ„Ù… ÙŠÙƒÙ† Ù„Ù‡ ÙƒÙÙˆØ§ Ø£Ø­Ø¯","Ø³ÙˆØ±Ø© Ø§Ù„ÙÙ„Ù‚ (3 Ù…Ø±Ø§Øª): Ù‚Ù„ Ø£Ø¹ÙˆØ° Ø¨Ø±Ø¨ Ø§Ù„ÙÙ„Ù‚ØŒ Ù…Ù† Ø´Ø± Ù…Ø§ Ø®Ù„Ù‚ØŒ ÙˆÙ…Ù† Ø´Ø± ØºØ§Ø³Ù‚ Ø¥Ø°Ø§ ÙˆÙ‚Ø¨ØŒ ÙˆÙ…Ù† Ø´Ø± Ø§Ù„Ù†ÙØ§Ø«Ø§Øª ÙÙŠ Ø§Ù„Ø¹Ù‚Ø¯ØŒ ÙˆÙ…Ù† Ø´Ø± Ø­Ø§Ø³Ø¯ Ø¥Ø°Ø§ Ø­Ø³Ø¯","Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø§Ø³ (3 Ù…Ø±Ø§Øª): Ù‚Ù„ Ø£Ø¹ÙˆØ° Ø¨Ø±Ø¨ Ø§Ù„Ù†Ø§Ø³ØŒ Ù…Ù„Ùƒ Ø§Ù„Ù†Ø§Ø³ØŒ Ø¥Ù„Ù‡ Ø§Ù„Ù†Ø§Ø³ØŒ Ù…Ù† Ø´Ø± Ø§Ù„ÙˆØ³ÙˆØ§Ø³ Ø§Ù„Ø®Ù†Ø§Ø³ØŒ Ø§Ù„Ø°ÙŠ ÙŠÙˆØ³ÙˆØ³ ÙÙŠ ØµØ¯ÙˆØ± Ø§Ù„Ù†Ø§Ø³ØŒ Ù…Ù† Ø§Ù„Ø¬Ù†Ø© ÙˆØ§Ù„Ù†Ø§Ø³","Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ£ØµØ¨Ø­ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±","Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ØŒ ÙˆØ¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ØŒ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§ØŒ ÙˆØ¨Ùƒ Ù†Ù…ÙˆØªØŒ ÙˆØ¥Ù„ÙŠÙƒ Ø§Ù„Ù†Ø´ÙˆØ±","Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ø§ØŒ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ø§ØŒ ÙˆØ¨Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… Ù†Ø¨ÙŠØ§ ÙˆØ±Ø³ÙˆÙ„Ø§"];
const defaultEveningAzkar = ["Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ (Ù…Ø±Ø©): Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠ Ø§Ù„Ù‚ÙŠÙˆÙ… Ù„Ø§ ØªØ£Ø®Ø°Ù‡ Ø³Ù†Ø© ÙˆÙ„Ø§ Ù†ÙˆÙ… Ù„Ù‡ Ù…Ø§ ÙÙŠ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆÙ…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ Ù…Ù† Ø°Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ´ÙØ¹ Ø¹Ù†Ø¯Ù‡ Ø¥Ù„Ø§ Ø¨Ø¥Ø°Ù†Ù‡ ÙŠØ¹Ù„Ù… Ù…Ø§ Ø¨ÙŠÙ† Ø£ÙŠØ¯ÙŠÙ‡Ù… ÙˆÙ…Ø§ Ø®Ù„ÙÙ‡Ù… ÙˆÙ„Ø§ ÙŠØ­ÙŠØ·ÙˆÙ† Ø¨Ø´ÙŠØ¡ Ù…Ù† Ø¹Ù„Ù…Ù‡ Ø¥Ù„Ø§ Ø¨Ù…Ø§ Ø´Ø§Ø¡ ÙˆØ³Ø¹ ÙƒØ±Ø³ÙŠÙ‡ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø±Ø¶ ÙˆÙ„Ø§ ÙŠØ¤ÙˆØ¯Ù‡ Ø­ÙØ¸Ù‡Ù…Ø§ ÙˆÙ‡Ùˆ Ø§Ù„Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¸ÙŠÙ…","Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ (3 Ù…Ø±Ø§Øª): Ù‚Ù„ Ù‡Ùˆ Ø§Ù„Ù„Ù‡ Ø£Ø­Ø¯ØŒ Ø§Ù„Ù„Ù‡ Ø§Ù„ØµÙ…Ø¯ØŒ Ù„Ù… ÙŠÙ„Ø¯ ÙˆÙ„Ù… ÙŠÙˆÙ„Ø¯ØŒ ÙˆÙ„Ù… ÙŠÙƒÙ† Ù„Ù‡ ÙƒÙÙˆØ§ Ø£Ø­Ø¯","Ø³ÙˆØ±Ø© Ø§Ù„ÙÙ„Ù‚ (3 Ù…Ø±Ø§Øª): Ù‚Ù„ Ø£Ø¹ÙˆØ° Ø¨Ø±Ø¨ Ø§Ù„ÙÙ„Ù‚ØŒ Ù…Ù† Ø´Ø± Ù…Ø§ Ø®Ù„Ù‚ØŒ ÙˆÙ…Ù† Ø´Ø± ØºØ§Ø³Ù‚ Ø¥Ø°Ø§ ÙˆÙ‚Ø¨ØŒ ÙˆÙ…Ù† Ø´Ø± Ø§Ù„Ù†ÙØ§Ø«Ø§Øª ÙÙŠ Ø§Ù„Ø¹Ù‚Ø¯ØŒ ÙˆÙ…Ù† Ø´Ø± Ø­Ø§Ø³Ø¯ Ø¥Ø°Ø§ Ø­Ø³Ø¯","Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø§Ø³ (3 Ù…Ø±Ø§Øª): Ù‚Ù„ Ø£Ø¹ÙˆØ° Ø¨Ø±Ø¨ Ø§Ù„Ù†Ø§Ø³ØŒ Ù…Ù„Ùƒ Ø§Ù„Ù†Ø§Ø³ØŒ Ø¥Ù„Ù‡ Ø§Ù„Ù†Ø§Ø³ØŒ Ù…Ù† Ø´Ø± Ø§Ù„ÙˆØ³ÙˆØ§Ø³ Ø§Ù„Ø®Ù†Ø§Ø³ØŒ Ø§Ù„Ø°ÙŠ ÙŠÙˆØ³ÙˆØ³ ÙÙŠ ØµØ¯ÙˆØ± Ø§Ù„Ù†Ø§Ø³ØŒ Ù…Ù† Ø§Ù„Ø¬Ù†Ø© ÙˆØ§Ù„Ù†Ø§Ø³","Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ØŒ ÙˆØ¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ØŒ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§ØŒ ÙˆØ¨Ùƒ Ù†Ù…ÙˆØªØŒ ÙˆØ¥Ù„ÙŠÙƒ Ø§Ù„Ù…ØµÙŠØ±","Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ£Ù…Ø³Ù‰ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±","Ø£Ø¹ÙˆØ° Ø¨ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù„Ù‡ Ø§Ù„ØªØ§Ù…Ø§Øª Ù…Ù† Ø´Ø± Ù…Ø§ Ø®Ù„Ù‚"];
const defaultSleepAzkar = ["Ø¨Ø§Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„ÙˆØ§Ø­Ø¯ Ø§Ù„Ù‚Ù‡Ø§Ø±ØŒ Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø³Ù…Ùƒ Ø£Ù…ÙˆØª ÙˆØ£Ø­ÙŠØ§. Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ùƒ Ø®Ù„Ù‚Øª Ù†ÙØ³ÙŠ ÙˆØ£Ù†Øª ØªÙˆÙØ§Ù‡Ø§ØŒ Ù„Ùƒ Ù…Ù…Ø§ØªÙ‡Ø§ ÙˆÙ…Ø­ÙŠØ§Ù‡Ø§ØŒ Ø¥Ù† Ø£Ø­ÙŠÙŠØªÙ‡Ø§ ÙØ§Ø­ÙØ¸Ù‡Ø§ØŒ ÙˆØ¥Ù† Ø£Ù…ØªÙ‡Ø§ ÙØ§ØºÙØ± Ù„Ù‡Ø§ØŒ Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø§Ù„Ø¹Ø§ÙÙŠØ©.","Ø§Ù„Ù„Ù‡Ù… Ø±Ø¨ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ±Ø¨ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ…ØŒ Ø±Ø¨Ù†Ø§ ÙˆØ±Ø¨ ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙØ§Ù„Ù‚ Ø§Ù„Ø­Ø¨ ÙˆØ§Ù„Ù†ÙˆÙ‰ØŒ Ù…Ù†Ø²Ù„ Ø§Ù„ØªÙˆØ±Ø§Ø© ÙˆØ§Ù„Ø¥Ù†Ø¬ÙŠÙ„ ÙˆØ§Ù„ÙØ±Ù‚Ø§Ù†ØŒ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø´Ø± ÙƒÙ„ Ø´ÙŠØ¡ Ø£Ù†Øª Ø¢Ø®Ø° Ø¨Ù†Ø§ØµÙŠØªÙ‡ØŒ Ø§Ù„Ù„Ù‡Ù… Ø£Ù†Øª Ø§Ù„Ø£ÙˆÙ„ ÙÙ„ÙŠØ³ Ù‚Ø¨Ù„Ùƒ Ø´ÙŠØ¡ØŒ ÙˆØ£Ù†Øª Ø§Ù„Ø¢Ø®Ø± ÙÙ„ÙŠØ³ Ø¨Ø¹Ø¯Ùƒ Ø´ÙŠØ¡ØŒ ÙˆØ£Ù†Øª Ø§Ù„Ø¸Ø§Ù‡Ø± ÙÙ„ÙŠØ³ ÙÙˆÙ‚Ùƒ Ø´ÙŠØ¡ØŒ ÙˆØ£Ù†Øª Ø§Ù„Ø¨Ø§Ø·Ù† ÙÙ„ÙŠØ³ Ø¯ÙˆÙ†Ùƒ Ø´ÙŠØ¡ØŒ Ø§Ù‚Ø¶ Ø¹Ù†Ø§ Ø§Ù„Ø¯ÙŠÙ† ÙˆØ£ØºÙ†Ù†Ø§ Ù…Ù† Ø§Ù„ÙÙ‚Ø±.","Ø¨Ø§Ø³Ù… Ø§Ù„Ù„Ù‡ ÙˆØ¶Ø¹Øª Ø¬Ù†Ø¨ÙŠØŒ Ø§Ù„Ù„Ù‡Ù… Ø§ØºÙØ± Ù„ÙŠ Ø°Ù†Ø¨ÙŠØŒ ÙˆØ£Ø®Ø³Ø¦ Ø´ÙŠØ·Ø§Ù†ÙŠØŒ ÙˆÙÙƒ Ø±Ù‡Ø§Ù†ÙŠØŒ ÙˆØ§Ø¬Ø¹Ù„Ù†ÙŠ ÙÙŠ Ø§Ù„Ù†Ø¯ÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰.","Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø§Ù„Ø°ÙŠ Ø£Ø·Ø¹Ù…Ù†Ø§ ÙˆØ³Ù‚Ø§Ù†Ø§ØŒ ÙˆÙƒÙØ§Ù†Ø§ ÙˆØ¢ÙˆØ§Ù†Ø§ØŒ ÙÙƒÙ… Ù…Ù…Ù† Ù„Ø§ ÙƒØ§ÙÙŠ Ù„Ù‡ ÙˆÙ„Ø§ Ù…Ø¤ÙˆÙŠ.","Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§Ù„Ù… Ø§Ù„ØºÙŠØ¨ ÙˆØ§Ù„Ø´Ù‡Ø§Ø¯Ø©ØŒ ÙØ§Ø·Ø± Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø±Ø¶ØŒ Ø±Ø¨ ÙƒÙ„ Ø´ÙŠØ¡ ÙˆÙ…Ù„ÙŠÙƒÙ‡ØŒ Ø£Ø´Ù‡Ø¯ Ø£Ù† Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†ØªØŒ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø´Ø± Ù†ÙØ³ÙŠØŒ ÙˆÙ…Ù† Ø´Ø± Ø§Ù„Ø´ÙŠØ·Ø§Ù† ÙˆØ´Ø±ÙƒÙ‡ØŒ ÙˆØ£Ù† Ø£Ù‚ØªØ±Ù Ø¹Ù„Ù‰ Ù†ÙØ³ÙŠ Ø³ÙˆØ¡Ø§Ù‹ØŒ Ø£Ùˆ Ø£Ø¬Ø±Ù‡ Ø¥Ù„Ù‰ Ù…Ø³Ù„Ù…."];
const defaultWakeupAzkar = ["Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø§Ù„Ø°ÙŠ Ø£Ø­ÙŠØ§Ù†Ø§ Ø¨Ø¹Ø¯ Ù…Ø§ Ø£Ù…Ø§ØªÙ†Ø§ ÙˆØ¥Ù„ÙŠÙ‡ Ø§Ù„Ù†Ø´ÙˆØ±. Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø§Ù„Ø°ÙŠ Ø±Ø¯ Ø¹Ù„ÙŠ Ø±ÙˆØ­ÙŠ ÙˆØ¹Ø§ÙØ§Ù†ÙŠ ÙÙŠ Ø¬Ø³Ø¯ÙŠ ÙˆØ£Ø°Ù† Ù„ÙŠ Ø¨Ø°ÙƒØ±Ù‡.","Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ ÙˆÙ„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø± ÙˆÙ„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¸ÙŠÙ….","Ø£ØµØ¨Ø­Ù†Ø§ Ø¹Ù„Ù‰ ÙØ·Ø±Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ø¥Ø®ØµØ§Øµ ÙˆØ¯ÙŠÙ† Ù†Ø¨ÙŠÙ†Ø§ Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… ÙˆÙ…Ù„Ø© Ø£Ø¨ÙŠÙ†Ø§ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø­Ù†ÙŠÙØ§Ù‹ Ù…Ø³Ù„Ù…Ø§Ù‹ ÙˆÙ…Ø§ ÙƒØ§Ù† Ù…Ù† Ø§Ù„Ù…Ø´Ø±ÙƒÙŠÙ†.","Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§ ÙˆØ¨Ùƒ Ù†Ù…ÙˆØª ÙˆØ¥Ù„ÙŠÙƒ Ø§Ù„Ù…ØµÙŠØ±. Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£ØµØ¨Ø­Øª Ø£Ø´Ù‡Ø¯Ùƒ ÙˆØ£Ø´Ù‡Ø¯ Ø­Ù…Ù„Ø© Ø¹Ø±Ø´Ùƒ ÙˆÙ…Ù„Ø§Ø¦ÙƒØªÙƒ ÙˆØ¬Ù…ÙŠØ¹ Ø®Ù„Ù‚Ùƒ Ø£Ù†Ùƒ Ø£Ù†Øª Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª ÙˆØ£Ù† Ù…Ø­Ù…Ø¯Ø§Ù‹ Ø¹Ø¨Ø¯Ùƒ ÙˆØ±Ø³ÙˆÙ„Ùƒ.","Ø§Ù„Ù„Ù‡Ù… Ù…Ø§ Ø£ØµØ¨Ø­ Ø¨ÙŠ Ù…Ù† Ù†Ø¹Ù…Ø© Ø£Ùˆ Ø¨Ø£Ø­Ø¯ Ù…Ù† Ø®Ù„Ù‚Ùƒ ÙÙ…Ù†Ùƒ ÙˆØ­Ø¯Ùƒ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ùƒ ÙÙ„Ùƒ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ„Ùƒ Ø§Ù„Ø´ÙƒØ±.","Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ø§Ù‹ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ø§Ù‹ ÙˆØ¨Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… Ù†Ø¨ÙŠØ§Ù‹ ÙˆØ±Ø³ÙˆÙ„Ø§Ù‹."];
const defaultAfterPrayerAzkar = [
    "Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ (3 Ù…Ø±Ø§Øª): Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ØŒ Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ØŒ Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡.",
    "Ø§Ù„Ù„Ù‡Ù… Ø£Ù†Øª Ø§Ù„Ø³Ù„Ø§Ù… ÙˆÙ…Ù†Ùƒ Ø§Ù„Ø³Ù„Ø§Ù…ØŒ ØªØ¨Ø§Ø±ÙƒØª ÙŠØ§ Ø°Ø§ Ø§Ù„Ø¬Ù„Ø§Ù„ ÙˆØ§Ù„Ø¥ÙƒØ±Ø§Ù….",
    "Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±.",
    "Ø§Ù„Ù„Ù‡Ù… Ù„Ø§ Ù…Ø§Ù†Ø¹ Ù„Ù…Ø§ Ø£Ø¹Ø·ÙŠØªØŒ ÙˆÙ„Ø§ Ù…Ø¹Ø·ÙŠ Ù„Ù…Ø§ Ù…Ù†Ø¹ØªØŒ ÙˆÙ„Ø§ ÙŠÙ†ÙØ¹ Ø°Ø§ Ø§Ù„Ø¬Ø¯ Ù…Ù†Ùƒ Ø§Ù„Ø¬Ø¯.",
    "Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙŠØ­ÙŠÙŠ ÙˆÙŠÙ…ÙŠØª ÙˆÙ‡Ùˆ Ø­ÙŠ Ù„Ø§ ÙŠÙ…ÙˆØªØŒ Ø¨ÙŠØ¯Ù‡ Ø§Ù„Ø®ÙŠØ± ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±.",
    "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ (33 Ù…Ø±Ø©)ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ (33 Ù…Ø±Ø©)ØŒ Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø± (34 Ù…Ø±Ø©).",
    "Ù‚Ø±Ø§Ø¡Ø© Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ: Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠ Ø§Ù„Ù‚ÙŠÙˆÙ… Ù„Ø§ ØªØ£Ø®Ø°Ù‡ Ø³Ù†Ø© ÙˆÙ„Ø§ Ù†ÙˆÙ… Ù„Ù‡ Ù…Ø§ ÙÙŠ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆÙ…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ Ù…Ù† Ø°Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ´ÙØ¹ Ø¹Ù†Ø¯Ù‡ Ø¥Ù„Ø§ Ø¨Ø¥Ø°Ù†Ù‡ ÙŠØ¹Ù„Ù… Ù…Ø§ Ø¨ÙŠÙ† Ø£ÙŠØ¯ÙŠÙ‡Ù… ÙˆÙ…Ø§ Ø®Ù„ÙÙ‡Ù… ÙˆÙ„Ø§ ÙŠØ­ÙŠØ·ÙˆÙ† Ø¨Ø´ÙŠØ¡ Ù…Ù† Ø¹Ù„Ù…Ù‡ Ø¥Ù„Ø§ Ø¨Ù…Ø§ Ø´Ø§Ø¡ ÙˆØ³Ø¹ ÙƒØ±Ø³ÙŠÙ‡ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø±Ø¶ ÙˆÙ„Ø§ ÙŠØ¤ÙˆØ¯Ù‡ Ø­ÙØ¸Ù‡Ù…Ø§ ÙˆÙ‡Ùˆ Ø§Ù„Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¸ÙŠÙ….",
    "Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§ØµØŒ Ø³ÙˆØ±Ø© Ø§Ù„ÙÙ„Ù‚ØŒ Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø§Ø³ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¨Ø¹Ø¯ ÙƒÙ„ ØµÙ„Ø§Ø©)."
];

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´ÙŠÙˆØ®
const sheikhsData = {
    'ahmad-al-nafees':{name:'Ø§Ù„Ø´ÙŠØ® Ø£Ø­Ù…Ø¯ Ø§Ù„Ù†ÙÙŠØ³',surahs:[
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©',url:'https://youtube.com/shorts/hZwA9D2nDqM?si=R0CcddGvrY5lSZQz',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©',url:'https://youtu.be/9HW7j9lZZTU?si=AGx5otPHL_rKOFo2',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù',url:'https://youtu.be/-Rvavu8vyEw?si=3O3C6ca-MNG4MNJD',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¯Ø®Ø§Ù†',url:'https://youtu.be/0nKqbDR_ya0?si=qGZEC5UtTYmH4Fda',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù‚ÙŠØ§Ù…Ø©',url:'https://youtu.be/WJ6OWeTTqtU?si=t0ugk-JvWmIF2vlA',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ',url:'https://youtu.be/Byyrubr7eqQ?si=kxxRel7fpYxphIzy',type:'default'}
    ]},
    'yaser-al-dosari':{name:'Ø§Ù„Ø´ÙŠØ® ÙŠØ§Ø³Ø± Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ',surahs:[
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©',url:'https://youtube.com/shorts/MePQ7B0dNek?si=5vaWolGfhC2xrKk7',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©',url:'https://youtu.be/P0uaLRO6V1U?si=XcetcB863O0eFasd',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù',url:'https://youtu.be/GYqzkR_AnKE?si=zcF1sltZGbEvA4Tk',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¯Ø®Ø§Ù†',url:'https://youtu.be/zmarpXKqMno?si=hamfIPAh0ZwCKSgZ',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù‚ÙŠØ§Ù…Ø©',url:'https://youtu.be/Tj6M-QrsYWQ?si=VEnqhXTf1ox_4AQg',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ',url:'https://youtu.be/Xg3dnwXfsBc?si=azQjnht91DhGOjCV',type:'default'}
    ]},
    'mishari-al-afasy':{name:'Ø§Ù„Ø´ÙŠØ® Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ',surahs:[
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©',url:'https://youtu.be/pUb9EW770d0?si=oRaxURYbJWdZDeDl',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©',url:'https://youtu.be/Y1M6hJHHrjM?si=nVu4jM1fFuCvINSp',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù',url:'https://youtu.be/fLHVCOLU_WI?si=56GqZZN9qQFJTCB2',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¯Ø®Ø§Ù†',url:'https://youtu.be/ZB2Vaea3U6c?si=nbnNy7p-oCX-oc1w',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù‚ÙŠØ§Ù…Ø©',url:'https://youtu.be/PUec_OAAsuw?si=R8dA8s4v5fYqGyWl',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ',url:'https://youtu.be/IDvV7Tvt8gM?si=_zzEnZ9OJ1z-OmXn',type:'default'}
    ]},
    'wadee-al-yamani':{name:'Ø§Ù„Ø´ÙŠØ® ÙˆØ¯ÙŠØ¹ Ø§Ù„ÙŠÙ…Ù†ÙŠ',surahs:[
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©',url:'https://youtube.com/shorts/qWzAyszODe4?si=ZdpBZiZpJBcxzqsF',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©',url:'https://youtu.be/oV8ZuycmnSA?si=sXrAOTDtC0CwzU9m',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù',url:'https://youtu.be/lQYNKmL0noU?si=hHMKfGYiN2Snh8FH',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¯Ø®Ø§Ù†',url:'https://youtu.be/EM0pLYUvdbA?si=bp6eP_-Qd0kOytku',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù‚ÙŠØ§Ù…Ø©',url:'https://youtu.be/i1_Gbsu9IH8?si=YiOe553HSpG_PNxM',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ',url:'https://youtu.be/ZhRXf6nSbpw?si=7DFLlKM_QMPUTH9F',type:'default'}
    ]},
    'abdulrahman-al-sudais':{name:'Ø§Ù„Ø´ÙŠØ® Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø³Ø¯ÙŠØ³',surahs:[
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©',url:'https://youtu.be/m3EBoMovUg8?si=aVjobRK0ILolvKAG',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©',url:'https://youtu.be/MspLXPfFzjg?si=VslU40oUh191AK-1',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù',url:'https://youtu.be/xB4JmhhouFQ?si=_sgz5GyiUht2b9bC',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ø¯Ø®Ø§Ù†',url:'https://youtu.be/Ww-L6S4cESM?si=BeBH3GlZns5wfteX',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù‚ÙŠØ§Ù…Ø©',url:'https://youtu.be/PyzTyTv85-M?si=85XZAFAFn8VsNnIM',type:'default'},
        {title:'Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ',url:'https://youtu.be/NYti96AJOFc?si=GtSbThmQ2tRa0X2B',type:'default'}
    ]}
};

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø§Ù„Ù…ØµØ­Ø­Ø©
const fullQuranData = {
    'alkahf': {
        name: 'Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù',
        verses: 110,
        pages: 12,
        text: [
            // ... (Ù†ÙØ³ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©)
        ]
    },
    'almulk': {
        name: 'Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ',
        verses: 30,
        pages: 2,
        text: [
            // ... (Ù†ÙØ³ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©)
        ]
    }
};

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©
const prayersList=['Ø§Ù„ÙØ¬Ø±','Ø§Ù„Ø¸Ù‡Ø±','Ø§Ù„Ø¹ØµØ±','Ø§Ù„Ù…ØºØ±Ø¨','Ø§Ù„Ø¹Ø´Ø§Ø¡'];
const prayerTypes=['Ø§Ù„Ø¬Ù…Ø§Ø¹Ø©','Ø§Ù„Ù…ÙØ±Ø¯','Ø§Ù„Ù…ØªØ£Ø®Ø±','Ø§Ù„Ù†Ø§ÙÙ„Ø©'];
const prayerPoints={'Ø§Ù„Ø¬Ù…Ø§Ø¹Ø©':100,'Ø§Ù„Ù…ÙØ±Ø¯':70,'Ø§Ù„Ù…ØªØ£Ø®Ø±':50,'Ø§Ù„Ù†Ø§ÙÙ„Ø©':50};
let isLoggedIn=true;
let currentPage='home-page';

// Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªÙ‚Ø³ÙŠÙ… Ù„Ù„ØµÙØ­Ø§Øª
const currentPageNumbers = {
    'alkahf': 1,
    'almulk': 1
};

// Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø¤Ù‚ØªØ©
let currentSheikhId = '';
let uploadingAudioFile = null;

// Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª
let currentAudioIndex = -1;
let currentAudioSheikh = '';
let currentAudioList = [];
let isPlaying = false;
let audioElement = null;

// Ù…ØªØºÙŠØ±Ø§Øª Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡
let pendingFriendRequest = null;
let currentFriendSearchResults = [];

// Ø¯ÙˆØ§Ù„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ù„Ù„Ø£ØµØ¯Ù‚Ø§Ø¡
function generateUserId() {
    return 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
}

function saveAllUsersData() {
    try {
        // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
        localStorage.setItem('islamicApp_user', JSON.stringify(userData));
        
        // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø´ØªØ±ÙƒØ©
        const allUsers = JSON.parse(localStorage.getItem('islamicApp_all_users') || '{}');
        
        // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        allUsers[userData.userId] = {
            username: userData.username,
            points: userData.points,
            level: userData.level,
            lastActive: new Date().toISOString(),
            avatar: userData.level // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ÙƒØµÙˆØ±Ø© Ø±Ù…Ø²ÙŠØ©
        };
        
        localStorage.setItem('islamicApp_all_users', JSON.stringify(allUsers));
        
        // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        localStorage.setItem('islamicApp_theme', userData.theme);
    } catch(e) {
        console.log('Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', e);
    }
}

function loadAllUsersData() {
    try {
        const savedUser = localStorage.getItem('islamicApp_user');
        if (savedUser) {
            const parsed = JSON.parse(savedUser);
            
            // Ø¯Ù…Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ø¹ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
            Object.keys(parsed).forEach(key => {
                if (key !== 'friends' && key !== 'friendRequests' && key !== 'sentRequests' && key !== 'userId') {
                    userData[key] = parsed[key];
                }
            });
            
            // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ù…Ù† Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
            if (parsed.friends) {
                userData.friends = parsed.friends;
            }
            if (parsed.friendRequests) {
                userData.friendRequests = parsed.friendRequests;
            }
            if (parsed.sentRequests) {
                userData.sentRequests = parsed.sentRequests;
            }
            if (parsed.userId) {
                userData.userId = parsed.userId;
            }
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø±Ù Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
        if (!userData.userId) {
            userData.userId = generateUserId();
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø±Ø§Ø¨Ø·
        checkForFriendLink();
        
        const savedTheme = localStorage.getItem('islamicApp_theme') || 'green';
        userData.theme = savedTheme;
        changeTheme(savedTheme, true);
    } catch(e) {
        console.log('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', e);
    }
}

// Ø¯ÙˆØ§Ù„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡
function checkForFriendLink() {
    const urlParams = new URLSearchParams(window.location.search);
    const friendId = urlParams.get('add_friend');
    
    if (friendId && friendId !== userData.userId) {
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        const allUsers = JSON.parse(localStorage.getItem('islamicApp_all_users') || '{}');
        const friendData = allUsers[friendId];
        
        if (friendData) {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† ØµØ¯ÙŠÙ‚Ø§Ù‹ Ø¨Ø§Ù„ÙØ¹Ù„
            const isAlreadyFriend = userData.friends.some(f => f.userId === friendId);
            const hasPendingRequest = userData.friendRequests.some(r => r.userId === friendId);
            const hasSentRequest = userData.sentRequests.includes(friendId);
            
            if (!isAlreadyFriend && !hasPendingRequest && !hasSentRequest) {
                // Ø¥Ø¶Ø§ÙØ© Ø·Ù„Ø¨ ØµØ¯Ø§Ù‚Ø©
                userData.friendRequests.push({
                    userId: friendId,
                    username: friendData.username,
                    points: friendData.points,
                    avatar: friendData.avatar,
                    date: new Date().toISOString()
                });
                
                saveAllUsersData();
                showNotification(`Ø·Ù„Ø¨ ØµØ¯Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯ Ù…Ù† ${friendData.username}`);
                updateFriendRequestBadge();
                
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
                const newUrl = window.location.origin + window.location.pathname;
                window.history.replaceState({}, document.title, newUrl);
            }
        }
    }
}

function searchFriend() {
    const searchInput = document.getElementById('friend-search-input');
    const searchTerm = searchInput.value.trim();
    
    if (!searchTerm) {
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù„Ù„Ø¨Ø­Ø«');
        return;
    }
    
    const allUsers = JSON.parse(localStorage.getItem('islamicApp_all_users') || '{}');
    currentFriendSearchResults = [];
    
    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ)
    Object.keys(allUsers).forEach(userId => {
        if (userId !== userData.userId) {
            const user = allUsers[userId];
            if (user.username.includes(searchTerm)) {
                currentFriendSearchResults.push({
                    userId: userId,
                    username: user.username,
                    points: user.points,
                    avatar: user.avatar
                });
            }
        }
    });
    
    const resultsContainer = document.getElementById('search-results');
    const noFriendsMessage = document.getElementById('no-friends-message');
    
    if (currentFriendSearchResults.length > 0) {
        let html = '<h4 style="color:var(--gold);text-align:center;margin-bottom:15px">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«:</h4>';
        
        currentFriendSearchResults.forEach(user => {
            const isAlreadyFriend = userData.friends.some(f => f.userId === user.userId);
            const hasPendingRequest = userData.friendRequests.some(r => r.userId === user.userId);
            const hasSentRequest = userData.sentRequests.includes(user.userId);
            
            html += `<div class="search-result-item">
                <div>
                    <div class="result-name">${user.username}</div>
                    <div class="result-points">${user.points} Ù†Ù‚Ø·Ø© - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${Math.floor(user.points/1000)+1}</div>
                </div>`;
            
            if (isAlreadyFriend) {
                html += `<div class="friend-status friend-accepted">ØµØ¯ÙŠÙ‚</div>`;
            } else if (hasPendingRequest) {
                html += `<div class="friend-status friend-pending">Ø·Ù„Ø¨ ÙˆØ±Ø¯</div>`;
            } else if (hasSentRequest) {
                html += `<div class="friend-status friend-pending">Ø·Ù„Ø¨ Ù…Ø±Ø³Ù„</div>`;
            } else {
                html += `<button class="add-friend-btn" onclick="sendFriendRequest('${user.userId}')">+ Ø¥Ø¶Ø§ÙØ© ØµØ¯ÙŠÙ‚</button>`;
            }
            
            html += `</div>`;
        });
        
        resultsContainer.innerHTML = html;
        resultsContainer.style.display = 'block';
        noFriendsMessage.style.display = 'none';
    } else {
        resultsContainer.style.display = 'none';
        noFriendsMessage.style.display = 'block';
        showNotification('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…');
    }
}

function sendFriendRequest(friendId) {
    const allUsers = JSON.parse(localStorage.getItem('islamicApp_all_users') || '{}');
    const friendData = allUsers[friendId];
    
    if (!friendData) {
        showNotification('Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
        return;
    }
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø³Ø§Ø¨Ù‚
    if (userData.sentRequests.includes(friendId)) {
        showNotification('Ù„Ù‚Ø¯ Ø£Ø±Ø³Ù„Øª Ø·Ù„Ø¨ ØµØ¯Ø§Ù‚Ø© Ø³Ø§Ø¨Ù‚Ø§Ù‹ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
        return;
    }
    
    // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø©
    userData.sentRequests.push(friendId);
    
    // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù‡Ù†Ø§ Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¢Ø®Ø±
    // ÙˆÙ„ÙƒÙ† ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¥ØµÙ†Ø¬Ù„Ø¯ Ø³Ù†Ù‚ÙˆÙ… Ø¨Ù…Ø­Ø§ÙƒØ§Ø© Ø°Ù„Ùƒ ÙÙ‚Ø·
    
    saveAllUsersData();
    showNotification(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ ØµØ¯Ø§Ù‚Ø© Ø¥Ù„Ù‰ ${friendData.username}`);
    
    // ØªØ­Ø¯ÙŠØ« Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«
    searchFriend();
}

function updateLeadersDisplay() {
    const leadersList = document.getElementById('leaders-list');
    const noFriendsMessage = document.getElementById('no-friends-message');
    
    if (!leadersList) return;
    
    // ÙØ±Ø² Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
    const sortedFriends = [...userData.friends].sort((a, b) => b.points - a.points);
    
    if (sortedFriends.length > 0) {
        let html = '';
        
        sortedFriends.forEach((friend, index) => {
            const rank = index + 1;
            const rankEmoji = rank === 1 ? 'ğŸ¥‡' : rank === 2 ? 'ğŸ¥ˆ' : rank === 3 ? 'ğŸ¥‰' : `${rank}`;
            
            html += `<div class="leader-item">
                <div class="leader-avatar">${friend.avatar || 'ğŸ‘¤'}</div>
                <div class="leader-info">
                    <div class="leader-name">${friend.username}</div>
                    <div class="leader-points">${friend.points} Ù†Ù‚Ø·Ø© - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${Math.floor(friend.points/1000)+1}</div>
                </div>
                <div class="leader-rank">${rankEmoji}</div>
            </div>`;
        });
        
        leadersList.innerHTML = html;
        noFriendsMessage.style.display = 'none';
    } else {
        leadersList.innerHTML = '';
        noFriendsMessage.style.display = 'block';
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø´Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ¯Ø§Ù‚Ø©
    updateFriendRequestBadge();
}

function updateFriendRequestBadge() {
    const badge = document.getElementById('friend-request-badge');
    if (badge) {
        if (userData.friendRequests.length > 0) {
            badge.style.display = 'block';
            badge.textContent = `Ù„Ø¯ÙŠÙƒ ${userData.friendRequests.length} Ø·Ù„Ø¨ ØµØ¯Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯`;
        } else {
            badge.style.display = 'none';
        }
    }
}

function showFriendRequestModal() {
    if (userData.friendRequests.length > 0) {
        const request = userData.friendRequests[0];
        pendingFriendRequest = request;
        
        document.getElementById('friend-request-message').textContent = 
            `Ù‡Ù„ ØªÙ‚Ø¨Ù„ Ø·Ù„Ø¨ Ø§Ù„ØµØ¯Ø§Ù‚Ø© Ù…Ù† ${request.username}ØŸ`;
        document.getElementById('friend-request-modal').style.display = 'flex';
    }
}

function acceptFriendRequest() {
    if (pendingFriendRequest) {
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµØ¯ÙŠÙ‚
        userData.friends.push({
            userId: pendingFriendRequest.userId,
            username: pendingFriendRequest.username,
            points: pendingFriendRequest.points,
            avatar: pendingFriendRequest.avatar,
            status: 'accepted'
        });
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        userData.friendRequests = userData.friendRequests.filter(
            r => r.userId !== pendingFriendRequest.userId
        );
        
        saveAllUsersData();
        updateLeadersDisplay();
        showNotification(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${pendingFriendRequest.username} ÙƒØµØ¯ÙŠÙ‚`);
        
        pendingFriendRequest = null;
        document.getElementById('friend-request-modal').style.display = 'none';
    }
}

function declineFriendRequest() {
    if (pendingFriendRequest) {
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        userData.friendRequests = userData.friendRequests.filter(
            r => r.userId !== pendingFriendRequest.userId
        );
        
        saveAllUsersData();
        updateLeadersDisplay();
        showNotification('ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨ Ø§Ù„ØµØ¯Ø§Ù‚Ø©');
        
        pendingFriendRequest = null;
        document.getElementById('friend-request-modal').style.display = 'none';
    }
}

function shareAppLink() {
    // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ù…Ø¹ Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
    const appLink = window.location.origin + window.location.pathname + '?add_friend=' + userData.userId;
    
    document.getElementById('app-link').textContent = appLink;
    document.getElementById('share-link-modal').style.display = 'flex';
}

function copyAppLink() {
    const linkElement = document.getElementById('app-link');
    const text = linkElement.textContent;
    
    navigator.clipboard.writeText(text).then(() => {
        showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©');
    }).catch(err => {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·:', err);
        showNotification('Ø®Ø·Ø£ ÙÙŠ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·');
    });
}

function closeShareLinkModal() {
    document.getElementById('share-link-modal').style.display = 'none';
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
function initApp(){
    loadAllUsersData();
    updateHijriDate();
    updateMorningAzkar();
    updateEveningAzkar();
    updateWakeupAzkar();
    updateSleepAzkar();
    updateAfterPrayerAzkar();
    updateLevelDisplay();
    updateLeadersDisplay();
    setInterval(checkPrayerDayUpdate,60000);
    setInterval(saveAllUsersData,60*1000);
    
    if(!userData.username || userData.username === 'Ù…Ø³ØªØ®Ø¯Ù…'){
        userData.username = 'Ù…Ø³ØªØ®Ø¯Ù…';
        saveAllUsersData();
    }
    
    document.getElementById('user-name').textContent = userData.username;
    document.getElementById('user-avatar').textContent = userData.level;
    
    // ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†ØµØ± Ø§Ù„ØµÙˆØª
    audioElement = document.getElementById('audio-player');
    if (audioElement) {
        audioElement.addEventListener('timeupdate', updateAudioProgress);
        audioElement.addEventListener('loadedmetadata', updateAudioDuration);
        audioElement.addEventListener('ended', onAudioEnded);
        audioElement.volume = 0.5;
    }
}

function updateLevelDisplay(){
    const oldLevel=userData.level;
    userData.level=Math.floor(userData.points/1000)+1;
    if(userData.level>10){userData.level=10;}
    const pointsInCurrentLevel=userData.points%1000;
    const progressPercentage=(pointsInCurrentLevel/1000)*100;
    
    const levelNameElement=document.getElementById('level-name');
    const levelNumberElement=document.getElementById('level-number');
    const currentPointsElement=document.getElementById('current-points');
    const neededPointsElement=document.getElementById('needed-points');
    const pointsPercentageElement=document.getElementById('points-percentage');
    const progressFillElement=document.getElementById('level-progress-fill');
    const currentLevelLabel=document.getElementById('current-level-label');
    const nextLevelLabel=document.getElementById('next-level-label');
    const userAvatarElement=document.getElementById('user-avatar');
    
    if(levelNameElement){levelNameElement.textContent=`Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${userData.level}`;}
    if(levelNumberElement){levelNumberElement.textContent=userData.level;}
    if(currentPointsElement){currentPointsElement.textContent=pointsInCurrentLevel;}
    if(neededPointsElement){neededPointsElement.textContent=1000;}
    if(pointsPercentageElement){pointsPercentageElement.textContent=`${Math.round(progressPercentage)}%`;}
    if(progressFillElement){progressFillElement.style.width=`${progressPercentage}%`;}
    if(currentLevelLabel){currentLevelLabel.textContent=`Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${userData.level}`;}
    if(nextLevelLabel){nextLevelLabel.textContent=`Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${userData.level+1}`;}
    if(userAvatarElement){userAvatarElement.textContent=userData.level;}
    
    if(oldLevel<userData.level){
        showNotification(`ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ø±Ù‚ÙŠØª Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${userData.level}`);
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©
    saveAllUsersData();
}

// Ø¯ÙˆØ§Ù„ Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
function updateAfterPrayerAzkar() {
    updateAzkarDisplay('after-prayer', userData.currentAfterPrayerAzkar);
}

function nextAfterPrayerAzkar() {
    const azkarList = getAzkar('after-prayer');
    userData.currentAfterPrayerAzkar = (userData.currentAfterPrayerAzkar + 1) % azkarList.length;
    updateAfterPrayerAzkar();
    userData.points += 5;
    updateLevelDisplay();
    saveAllUsersData();
}

function prevAfterPrayerAzkar() {
    const azkarList = getAzkar('after-prayer');
    userData.currentAfterPrayerAzkar = (userData.currentAfterPrayerAzkar - 1 + azkarList.length) % azkarList.length;
    updateAfterPrayerAzkar();
    if(userData.points > 0) {
        userData.points -= 2;
        updateLevelDisplay();
        saveAllUsersData();
        showNotification('-2 Ù†Ù‚Ø·Ø© Ù„Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø°ÙƒØ± Ø§Ù„Ø³Ø§Ø¨Ù‚');
    }
}

// ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ù„ØªØ´Ù…Ù„ Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©
function getAzkar(azkarType) {
    const defaultAzkar = {
        morning: defaultMorningAzkar,
        evening: defaultEveningAzkar,
        sleep: defaultSleepAzkar,
        wakeup: defaultWakeupAzkar,
        'after-prayer': defaultAfterPrayerAzkar
    };
    
    if (userData.modifiedAzkar && userData.modifiedAzkar[azkarType] && userData.modifiedAzkar[azkarType].length > 0) {
        return userData.modifiedAzkar[azkarType];
    }
    return defaultAzkar[azkarType];
}

// ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø°ÙƒØ§Ø±
function editCurrentAzkar(azkarType) {
    const azkarList = getAzkar(azkarType);
    let currentIndex;
    
    switch(azkarType) {
        case 'morning':
            currentIndex = userData.currentMorningAzkar;
            break;
        case 'evening':
            currentIndex = userData.currentEveningAzkar;
            break;
        case 'sleep':
            currentIndex = userData.currentSleepAzkar;
            break;
        case 'wakeup':
            currentIndex = userData.currentWakeupAzkar;
            break;
        case 'after-prayer':
            currentIndex = userData.currentAfterPrayerAzkar;
            break;
        default:
            return;
    }
    
    if (currentIndex >= 0 && currentIndex < azkarList.length) {
        const azkarTypes = {
            'morning': 'Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­',
            'evening': 'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡',
            'sleep': 'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…',
            'wakeup': 'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸',
            'after-prayer': 'Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©'
        };
        
        document.getElementById('edit-azkar-modal').style.display = 'flex';
        document.getElementById('edit-azkar-title').textContent = `ØªØ¹Ø¯ÙŠÙ„ Ø°ÙƒØ± - ${azkarTypes[azkarType]}`;
        document.getElementById('edit-azkar-type').value = azkarType;
        document.getElementById('edit-azkar-index').value = currentIndex;
        document.getElementById('edit-azkar-text-input').value = azkarList[currentIndex];
        document.getElementById('edit-azkar-text-input').focus();
    }
}

// ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø§Øª Ù„ØªØ´Ù…Ù„ ØµÙØ­Ø© Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©
function showPage(pageId){
    if(pageId==='login-page'){
        pageId='home-page';
    }
    
    document.querySelectorAll('.page').forEach(page=>{
        page.classList.remove('active');
    });
    document.getElementById(pageId).classList.add('active');
    currentPage=pageId;
    closeThemeMenu();
    
    const pageTitles={
        'home-page':'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
        'minbar-page':'Ø§Ù„Ù…Ù†Ø¨Ø± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ',
        'quran-page':'Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…',
        'read-quran-page':'Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†',
        'listen-quran-page':'Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù‚Ø±Ø¢Ù†',
        'alkahf-full-page':'Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù',
        'almulk-full-page':'Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ',
        'prayer-page':'Ø§Ù„ØµÙ„Ø§Ø©',
        'prayer-table-page':'Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØµÙ„Ø§Ø©',
        'wudu-page':'ÙƒÙŠÙÙŠØ© Ø§Ù„ÙˆØ¶ÙˆØ¡',
        'azkar-page':'Ø§Ù„Ø£Ø°ÙƒØ§Ø±',
        'morning-azkar-page':'Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­',
        'evening-azkar-page':'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡',
        'sleep-azkar-page':'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…',
        'wakeup-azkar-page':'Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸',
        'after-prayer-azkar-page':'Ø£Ø°ÙƒØ§Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØµÙ„Ø§Ø©',
        'tasbeeh-page':'Ø§Ù„ØªØ³Ø¨ÙŠØ­',
        'tasks-page':'Ø§Ù„Ù…Ù‡Ø§Ù…',
        'settings-page':'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',
        'other-sites-page':'Ù…ÙˆØ§Ù‚Ø¹ Ø£Ø®Ø±Ù‰',
        'sources-page':'Ø§Ù„Ù…ØµØ§Ø¯Ø±'
    };
    
    const mainTitle=document.getElementById('page-main-title');
    if(mainTitle&&pageTitles[pageId]){
        mainTitle.textContent=pageTitles[pageId];
    }
    
    document.querySelectorAll('.nav-item').forEach(item=>{
        item.classList.remove('active');
    });
    
    switch(pageId){
        case'home-page':
            updateLevelDisplay();
            updateHijriDate();
            updatePrayerTableDate();
            updateLeadersDisplay();
            document.querySelector('.nav-item[onclick*="home-page"]').classList.add('active');
            break;
        case'minbar-page':
            document.querySelector('.nav-item[onclick*="home-page"]').classList.add('active');
            break;
        case'quran-page':
        case'read-quran-page':
        case'listen-quran-page':
        case'alkahf-full-page':
        case'almulk-full-page':
            document.querySelector('.nav-item[onclick*="quran-page"]').classList.add('active');
            break;
        case'prayer-page':
        case'prayer-table-page':
        case'wudu-page':
            document.querySelector('.nav-item[onclick*="prayer-page"]').classList.add('active');
            if(pageId==='prayer-table-page'){
                updatePrayerTableDate();
                updatePrayerTableDisplay();
            }
            break;
        case'azkar-page':
        case'morning-azkar-page':
        case'evening-azkar-page':
        case'sleep-azkar-page':
        case'wakeup-azkar-page':
        case'after-prayer-azkar-page':
            document.querySelector('.nav-item[onclick*="azkar-page"]').classList.add('active');
            break;
        case'tasbeeh-page':
            document.getElementById('tasbeeh-count').textContent=userData.tasbeehCount;
            document.querySelector('.nav-item[onclick*="tasbeeh-page"]').classList.add('active');
            break;
        case'tasks-page':
            updateTasksDisplay();
            document.querySelector('.nav-item[onclick*="tasks-page"]').classList.add('active');
            break;
        case'settings-page':
            break;
        case'other-sites-page':
            updateSitesDisplay();
            break;
        case'sources-page':
            updateSourcesDisplay();
            break;
    }
}

// ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© ØªØµÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
function resetUserData(){
    if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ù…Ø³ØªÙˆÙ‰ ÙˆØ§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ø³ÙˆØ± ÙˆØ§Ù„Ø£Ø°ÙƒØ§Ø± ÙˆØ§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„Ù…Ø®ØµØµØ©.')){
        userData.points=0;
        userData.level=1;
        userData.tasbeehCount=0;
        userData.tasbeehGoal=100;
        userData.completedTasks={};
        userData.userTasks=[];
        userData.prayerTable={};
        userData.prayerHistory={};
        userData.customSites=[];
        userData.customSources=[];
        userData.customSurahs={
            'ahmad-al-nafees':[],
            'yaser-al-dosari':[],
            'mishari-al-afasy':[],
            'wadee-al-yamani':[],
            'abdulrahman-al-sudais':[]
        };
        userData.modifiedAzkar = {
            morning: [],
            evening: [],
            sleep: [],
            wakeup: [],
            'after-prayer': []
        };
        userData.audioFiles={};
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡
        userData.friends = [];
        userData.friendRequests = [];
        userData.sentRequests = [];
        
        updateLevelDisplay();
        updateLeadersDisplay();
        saveAllUsersData();
        showNotification('ØªÙ… ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­');
        showPage('home-page');
    }
}

// Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© (Ù†ÙØ³ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø·ÙÙŠÙØ©)

// ... (Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù…Ø¹ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ saveData Ø¨Ù€ saveAllUsersData)

// Ø£Ø­Ø¯Ø§Ø«
window.addEventListener('load',initApp);
document.addEventListener('visibilitychange',function(){
    if(!document.hidden){
        updateHijriDate();
        if(isLoggedIn){
            checkPrayerDayUpdate();
            updateLevelDisplay();
            updateLeadersDisplay();
        }
    }
});

document.addEventListener('click',function(event){
    const themeMenu=document.getElementById('theme-menu');
    if(themeMenu&&themeMenu.classList.contains('active')&&!themeMenu.contains(event.target)&&!event.target.closest('.settings-option')){
        themeMenu.classList.remove('active');
    }
});

// Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
function getHijriDate() {
    const today = new Date();
    try {
        const options = {day: 'numeric', month: 'long', year: 'numeric'};
        return new Intl.DateTimeFormat('ar-SA-u-ca-islamic', options).format(today);
    } catch(e) {
        return today.toLocaleDateString('ar-SA');
    }
}

function updateHijriDate(){
    const today = new Date();
    const hijriDate = getHijriDate();
    const gregorianDate = today.toLocaleDateString('ar-SA');
    
    const hijriElement = document.getElementById('hijri-date');
    if(hijriElement){
        hijriElement.innerHTML = `
            <div class="date-text">${hijriDate}</div>
            <div class="gregorian">${gregorianDate}</div>
        `;
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù† (Ù†ÙØ³Ù‡Ø§)
function showFullSurah(surahName) {
    const surahData = fullQuranData[surahName];
    if (!surahData) return;
    
    const pageTitles = {
        'alkahf': 'alkahf-full-page',
        'almulk': 'almulk-full-page'
    };
    
    const pageId = pageTitles[surahName];
    if (!pageId) return;
    
    showPage(pageId);
    
    setTimeout(() => {
        displayFullSurah(surahName);
    }, 100);
}

function displayFullSurah(surahName) {
    const surahData = fullQuranData[surahName];
    if (!surahData) return;
    
    const textElement = document.getElementById(`${surahName}-full-text`);
    const pageDisplay = document.getElementById(`${surahName}-page-display`);
    const pageIndicator = document.getElementById(`${surahName}-page-indicator`);
    
    if (!textElement) return;
    
    const currentPage = currentPageNumbers[surahName] || 1;
    const pageText = surahData.text[currentPage - 1];
    
    if (!pageText) return;
    
    let html = '';
    let verseNumber = 1;
    
    for (let i = 0; i < currentPage - 1; i++) {
        verseNumber += surahData.text[i].length;
    }
    
    for (let i = 0; i < pageText.length; i++) {
        const verse = pageText[i];
        
        html += `<div class="quran-verse-full">
            <span class="verse-number-full">${verseNumber + i}</span>${verse}
        </div>`;
    }
    
    textElement.innerHTML = html;
    
    if (pageDisplay) {
        pageDisplay.textContent = `Ø§Ù„ØµÙØ­Ø© ${currentPage}`;
    }
    
    if (pageIndicator) {
        pageIndicator.textContent = `Ø§Ù„ØµÙØ­Ø© ${currentPage} Ù…Ù† ${surahData.pages}`;
    }
    
    setTimeout(() => {
        textElement.scrollTop = 0;
    }, 100);
}

function nextPage(surahName) {
    const surahData = fullQuranData[surahName];
    if (!surahData) return;
    
    if (currentPageNumbers[surahName] < surahData.pages) {
        currentPageNumbers[surahName]++;
        displayFullSurah(surahName);
        
        userData.points += 50;
        updateLevelDisplay();
        saveAllUsersData();
        showNotification('+50 Ù†Ù‚Ø·Ø© Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©');
    }
}

function prevPage(surahName) {
    if (currentPageNumbers[surahName] > 1) {
        currentPageNumbers[surahName]--;
        displayFullSurah(surahName);
        
        if (userData.points >= 50) {
            userData.points -= 50;
            updateLevelDisplay();
            saveAllUsersData();
            showNotification('-50 Ù†Ù‚Ø·Ø© Ù„Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©');
        }
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
function showNotification(message){
    const oldNotification=document.querySelector('.notification');
    if(oldNotification)oldNotification.remove();
    const notification=document.createElement('div');
    notification.className='notification';
    notification.textContent=message;
    document.body.appendChild(notification);
    setTimeout(()=>{
        if(notification.parentNode){
            notification.remove();
        }
    },3000);
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„ØµÙ„Ø§Ø© (Ù†ÙØ³Ù‡Ø§)
function checkPrayerDayUpdate(){
    const today=new Date();
    const todayStr=today.toDateString();
    if(userData.lastPrayerDay!==todayStr){
        if(userData.lastPrayerDay&&userData.prayerTable){
            userData.prayerHistory[userData.lastPrayerDay]={...userData.prayerTable,totalPoints:calculateTodayPrayerPoints()};
        }
        resetPrayerTableForNewDay();
        userData.lastPrayerDay=todayStr;
        updatePrayerTableDate();
        updatePrayerTableDisplay();
        saveAllUsersData();
    }
}

function resetPrayerTableForNewDay(){
    userData.prayerTable={};
    prayersList.forEach(prayer=>{
        userData.prayerTable[prayer]='';
    });
}

function calculateTodayPrayerPoints(){
    let totalPoints=0;
    Object.values(userData.prayerTable||{}).forEach(prayerType=>{
        if(prayerType && Array.isArray(prayerType)){
            prayerType.forEach(type=>{
                if(prayerPoints[type]){
                    totalPoints+=prayerPoints[type];
                }
            });
        }else if(prayerType&&prayerPoints[prayerType]){
            totalPoints+=prayerPoints[prayerType];
        }
    });
    return totalPoints;
}

function updatePrayerTableDate(){
    const today=new Date();
    const todayStr=today.toLocaleDateString('ar-SA');
    const dateElement=document.getElementById('prayer-table-date');
    if(dateElement){
        const hijriDate = getHijriDate();
        dateElement.innerHTML = `<div class="date-text">${hijriDate}</div><div class="gregorian">${todayStr}</div>`;
    }
}

function updatePrayerTableDisplay(){
    const tbody=document.getElementById('prayer-table-body');
    if(!tbody)return;
    let html='';
    prayersList.forEach(prayer=>{
        let row=`<tr><td class="prayer-cell" style="font-weight:bold;color:var(--gold);font-size:1.2rem">${prayer}</td>`;
        prayerTypes.forEach(type=>{
            const isSelected=userData.prayerTable[prayer]&&
                (userData.prayerTable[prayer]===type || 
                 (Array.isArray(userData.prayerTable[prayer]) && 
                  userData.prayerTable[prayer].includes(type)));
            const icon=getPrayerIcon(prayer,type);
            row+=`<td class="prayer-cell" onclick="selectPrayer('${prayer}','${type}')"><div class="prayer-cell-content">${icon}<div class="prayer-status ${isSelected?'prayed':'not-prayed'}">${isSelected?'âœ“ '+type:type}</div>${isSelected?`<div class="prayer-points">+${prayerPoints[type]}</div>`:''}</div></td>`;
        });
        row+='</tr>';
        html+=row;
    });
    tbody.innerHTML=html;
    updatePrayerTableSummary();
}

function getPrayerIcon(prayer,type){
    const icons={'Ø§Ù„ÙØ¬Ø±':'ğŸŒ…','Ø§Ù„Ø¸Ù‡Ø±':'â˜€ï¸','Ø§Ù„Ø¹ØµØ±':'â›…','Ø§Ù„Ù…ØºØ±Ø¨':'ğŸŒ‡','Ø§Ù„Ø¹Ø´Ø§Ø¡':'ğŸŒ™'};
    return `<span class="prayer-icon-small">${icons[prayer]||'ğŸ•Œ'}</span>`;
}

function selectPrayer(prayer,type){
    if(!userData.prayerTable[prayer]){
        userData.prayerTable[prayer]=[type];
        userData.points+=prayerPoints[type];
        showNotification(`ØªÙ…Øª: ${prayer} (${type}) +${prayerPoints[type]} Ù†Ù‚Ø·Ø©`);
    }else{
        if(Array.isArray(userData.prayerTable[prayer])){
            const index=userData.prayerTable[prayer].indexOf(type);
            if(index>-1){
                userData.prayerTable[prayer].splice(index,1);
                userData.points-=prayerPoints[type];
                showNotification(`Ø¥Ù„ØºØ§Ø¡: ${prayer} (${type}) -${prayerPoints[type]} Ù†Ù‚Ø·Ø©`);
            }else{
                if(userData.prayerTable[prayer].length<2){
                    userData.prayerTable[prayer].push(type);
                    userData.points+=prayerPoints[type];
                    showNotification(`ØªÙ…Øª: ${prayer} (${type}) +${prayerPoints[type]} Ù†Ù‚Ø·Ø©`);
                }else{
                    showNotification('ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø®Ø§Ù†ØªÙŠÙ† ÙÙ‚Ø· Ù„ÙƒÙ„ ØµÙ„Ø§Ø©');
                }
            }
            if(userData.prayerTable[prayer].length===0){
                userData.prayerTable[prayer]='';
            }
        }else{
            userData.prayerTable[prayer]=[type];
            userData.points+=prayerPoints[type];
            showNotification(`ØªÙ…Øª: ${prayer} (${type}) +${prayerPoints[type]} Ù†Ù‚Ø·Ø©`);
        }
    }
    updatePrayerTableDisplay();
    updateLevelDisplay();
    saveAllUsersData();
}

function updatePrayerTableSummary(){
    const todayPoints=calculateTodayPrayerPoints();
    const totalPointsElement=document.getElementById('prayer-total-points');
    const todayPointsElement=document.getElementById('prayer-today-points');
    if(totalPointsElement){
        totalPointsElement.textContent=`Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…: ${todayPoints} Ù†Ù‚Ø·Ø©`;
    }
    if(todayPointsElement){
        todayPointsElement.textContent=`Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…: ${todayPoints}`;
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ù…Ø§Øª (Ù†ÙØ³Ù‡Ø§)
function changeTheme(theme,initial=false){
    userData.theme=theme;
    document.body.setAttribute('data-theme',theme);
    
    document.querySelectorAll('.theme-color').forEach(el => {
        el.innerHTML = '';
    });
    
    const themeColors = {
        green: '#0b3d2e',
        dark: '#0a1929', 
        gold: '#3a2c0a',
        navy: '#001f3f',
        red: '#3b0000',
        blue: '#003366',
        white: '#fff',
        orange: '#ff6b00',
        purple: '#4b0082'
    };
    
    const selectedTheme = document.querySelector(`.theme-color[style*="${themeColors[theme]}"]`);
    if(selectedTheme){
        selectedTheme.innerHTML = 'âœ”ï¸';
    }
    
    const metaThemeColor=document.querySelector('meta[name="theme-color"]');
    if(metaThemeColor){
        metaThemeColor.setAttribute('content',themeColors[theme]||'#0b3d2e');
    }
    if(!initial){
        saveAllUsersData();
        showNotification('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù…Ø©');
        closeThemeMenu();
    }
}

function showThemesMenu(){
    const themeMenu=document.getElementById('theme-menu');
    if(themeMenu){
        themeMenu.classList.toggle('active');
    }
}

function closeThemeMenu(){
    const themeMenu=document.getElementById('theme-menu');
    if(themeMenu){
        themeMenu.classList.remove('active');
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£Ø°ÙƒØ§Ø± (Ù†ÙØ³Ù‡Ø§ Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„Ø§Øª)
function updateAzkarDisplay(azkarType, currentIndex) {
    const azkarList = getAzkar(azkarType);
    const textElement = document.getElementById(`${azkarType}-text`);
    const counterElement = document.getElementById(`${azkarType}-counter`);
    
    if (textElement && counterElement && azkarList[currentIndex]) {
        textElement.textContent = azkarList[currentIndex];
        counterElement.textContent = `${currentIndex + 1}/${azkarList.length}`;
    }
}

function updateMorningAzkar(){
    updateAzkarDisplay('morning', userData.currentMorningAzkar);
}

function nextMorningAzkar(){
    const azkarList = getAzkar('morning');
    userData.currentMorningAzkar=(userData.currentMorningAzkar+1)%azkarList.length;
    updateMorningAzkar();
    userData.points+=5;
    updateLevelDisplay();
    saveAllUsersData();
}

function prevMorningAzkar(){
    const azkarList = getAzkar('morning');
    userData.currentMorningAzkar=(userData.currentMorningAzkar-1+azkarList.length)%azkarList.length;
    updateMorningAzkar();
    if(userData.points>0){
        userData.points-=2;
        updateLevelDisplay();
        saveAllUsersData();
        showNotification('-2 Ù†Ù‚Ø·Ø© Ù„Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø°ÙƒØ± Ø§Ù„Ø³Ø§Ø¨Ù‚');
    }
}

function updateEveningAzkar(){
    updateAzkarDisplay('evening', userData.currentEveningAzkar);
}

function nextEveningAzkar(){
    const azkarList = getAzkar('evening');
    userData.currentEveningAzkar=(userData.currentEveningAzkar+1)%azkarList.length;
    updateEveningAzkar();
    userData.points+=5;
    updateLevelDisplay();
    saveAllUsersData();
}

function prevEveningAzkar(){
    const azkarList = getAzkar('evening');
    userData.currentEveningAzkar=(userData.currentEveningAzkar-1+azkarList.length)%azkarList.length;
    updateEveningAzkar();
    if(userData.points>0){
        userData.points-=2;
        updateLevelDisplay();
        saveAllUsersData();
        showNotification('-2 Ù†Ù‚Ø·Ø© Ù„Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø°ÙƒØ± Ø§Ù„Ø³Ø§Ø¨Ù‚');
    }
}

function updateSleepAzkar(){
    updateAzkarDisplay('sleep', userData.currentSleepAzkar);
}

function nextSleepAzkar(){
    const azkarList = getAzkar('sleep');
    userData.currentSleepAzkar=(userData.currentSleepAzkar+1)%azkarList.length;
    updateSleepAzkar();
    userData.points+=5;
    updateLevelDisplay();
    saveAllUsersData();
}

function prevSleepAzkar(){
    const azkarList = getAzkar('sleep');
    userData.currentSleepAzkar=(userData.currentSleepAzkar-1+azkarList.length)%azkarList.length;
    updateSleepAzkar();
    if(userData.points>0){
        userData.points-=2;
        updateLevelDisplay();
        saveAllUsersData();
        showNotification('-2 Ù†Ù‚Ø·Ø© Ù„Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø°ÙƒØ± Ø§Ù„Ø³Ø§Ø¨Ù‚');
    }
}

function updateWakeupAzkar(){
    updateAzkarDisplay('wakeup', userData.currentWakeupAzkar);
}

function nextWakeupAzkar(){
    const azkarList = getAzkar('wakeup');
    userData.currentWakeupAzkar=(userData.currentWakeupAzkar+1)%azkarList.length;
    updateWakeupAzkar();
    userData.points+=5;
    updateLevelDisplay();
    saveAllUsersData();
}

function prevWakeupAzkar(){
    const azkarList = getAzkar('wakeup');
    userData.currentWakeupAzkar=(userData.currentWakeupAzkar-1+azkarList.length)%azkarList.length;
    updateWakeupAzkar();
    if(userData.points>0){
        userData.points-=2;
        updateLevelDisplay();
        saveAllUsersData();
        showNotification('-2 Ù†Ù‚Ø·Ø© Ù„Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø°ÙƒØ± Ø§Ù„Ø³Ø§Ø¨Ù‚');
    }
}

// Ø¯ÙˆØ§Ù„ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø°ÙƒØ§Ø± (Ù†ÙØ³Ù‡Ø§)
function closeEditAzkarModal() {
    document.getElementById('edit-azkar-modal').style.display = 'none';
}

function saveEditedAzkar() {
    const azkarType = document.getElementById('edit-azkar-type').value;
    const index = parseInt(document.getElementById('edit-azkar-index').value);
    const newText = document.getElementById('edit-azkar-text-input').value.trim();
    
    if (!newText) {
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ø§Ù„Ø°ÙƒØ±');
        return;
    }
    
    if (!userData.modifiedAzkar[azkarType]) {
        userData.modifiedAzkar[azkarType] = [];
    }
    
    if (userData.modifiedAzkar[azkarType].length === 0) {
        const defaultAzkar = {
            'morning': defaultMorningAzkar,
            'evening': defaultEveningAzkar,
            'sleep': defaultSleepAzkar,
            'wakeup': defaultWakeupAzkar,
            'after-prayer': defaultAfterPrayerAzkar
        };
        
        userData.modifiedAzkar[azkarType] = [...defaultAzkar[azkarType]];
    }
    
    userData.modifiedAzkar[azkarType][index] = newText;
    saveAllUsersData();
    
    switch(azkarType) {
        case 'morning':
            updateMorningAzkar();
            break;
        case 'evening':
            updateEveningAzkar();
            break;
        case 'sleep':
            updateSleepAzkar();
            break;
        case 'wakeup':
            updateWakeupAzkar();
            break;
        case 'after-prayer':
            updateAfterPrayerAzkar();
            break;
    }
    
    closeEditAzkarModal();
    showNotification('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø°ÙƒØ± Ø¨Ù†Ø¬Ø§Ø­!');
}

function resetAzkarToDefault() {
    const azkarType = document.getElementById('edit-azkar-type').value;
    const index = parseInt(document.getElementById('edit-azkar-index').value);
    
    if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ù‡Ø°Ø§ Ø§Ù„Ø°ÙƒØ± Ø¥Ù„Ù‰ Ù†ØµÙ‡ Ø§Ù„Ø£ØµÙ„ÙŠØŸ')) {
        const defaultAzkar = {
            'morning': defaultMorningAzkar,
            'evening': defaultEveningAzkar,
            'sleep': defaultSleepAzkar,
            'wakeup': defaultWakeupAzkar,
            'after-prayer': defaultAfterPrayerAzkar
        };
        
        if (userData.modifiedAzkar[azkarType] && userData.modifiedAzkar[azkarType].length > 0) {
            userData.modifiedAzkar[azkarType][index] = defaultAzkar[azkarType][index];
        }
        
        saveAllUsersData();
        
        switch(azkarType) {
            case 'morning':
                updateMorningAzkar();
                break;
            case 'evening':
                updateEveningAzkar();
                break;
            case 'sleep':
                updateSleepAzkar();
                break;
            case 'wakeup':
                updateWakeupAzkar();
                break;
            case 'after-prayer':
                updateAfterPrayerAzkar();
                break;
        }
        
        closeEditAzkarModal();
        showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø°ÙƒØ± Ø¥Ù„Ù‰ Ù†ØµÙ‡ Ø§Ù„Ø£ØµÙ„ÙŠ');
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ³Ø¨ÙŠØ­ (Ù†ÙØ³Ù‡Ø§)
function addTasbeeh(count){
    userData.tasbeehCount+=count;
    const tasbeehCountElement=document.getElementById('tasbeeh-count');
    if(tasbeehCountElement)tasbeehCountElement.textContent=userData.tasbeehCount;
    
    if (userData.tasbeehGoal > 0 && userData.tasbeehCount >= userData.tasbeehGoal) {
        userData.points += 20;
        showNotification(`ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ø­Ù‚Ù‚Øª Ù‡Ø¯Ù Ø§Ù„ØªØ³Ø¨ÙŠØ­ (${userData.tasbeehGoal})! +20 Ù†Ù‚Ø·Ø©`);
        userData.tasbeehGoal = 0;
        saveAllUsersData();
    }
    
    userData.points+=count;
    updateLevelDisplay();
    saveAllUsersData();
    
    const circle=document.querySelector('.tasbeeh-circle');
    if(circle){
        circle.style.transform='scale(.95)';
        setTimeout(()=>{
            circle.style.transform='scale(1)';
        },150);
    }
}

function resetTasbeeh(){
    userData.tasbeehCount=0;
    const tasbeehCountElement=document.getElementById('tasbeeh-count');
    if(tasbeehCountElement)tasbeehCountElement.textContent=0;
    saveAllUsersData();
    showNotification('ØªÙ… ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯');
}

function setTasbeehGoal() {
    document.getElementById('tasbeeh-goal-modal').style.display = 'flex';
    document.getElementById('tasbeeh-goal-input').value = userData.tasbeehGoal || '';
    document.getElementById('tasbeeh-goal-input').focus();
}

function closeTasbeehGoalModal() {
    document.getElementById('tasbeeh-goal-modal').style.display = 'none';
}

function saveTasbeehGoal() {
    const goal = parseInt(document.getElementById('tasbeeh-goal-input').value);
    if (goal && goal > 0) {
        userData.tasbeehGoal = goal;
        saveAllUsersData();
        closeTasbeehGoalModal();
        showNotification(`ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù‡Ø¯Ù Ø§Ù„ØªØ³Ø¨ÙŠØ­: ${goal} ØªØ³Ø¨ÙŠØ­Ø© (Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ 20 Ù†Ù‚Ø·Ø© Ø¹Ù†Ø¯ ØªØ­Ù‚ÙŠÙ‚Ù‡)`);
    } else {
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… ØµØ­ÙŠØ­ Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„ØµÙØ±');
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ù‡Ø§Ù… (Ù†ÙØ³Ù‡Ø§)
function updateTasksDisplay(){
    const tasksContainer=document.getElementById('daily-tasks');
    if(!tasksContainer)return;
    
    const today=new Date().toDateString();
    let html='';
    
    userData.userTasks.forEach((task,index)=>{
        const taskKey=`user_${task.id}`;
        const isCompleted=userData.completedTasks[`${today}_${taskKey}`]||false;
        html+=`<div class="task-item user-task-item">
            <div class="task-checkbox ${isCompleted?'checked':''}" onclick="toggleTask('${taskKey}',50,'user')"></div>
            <div class="task-content">
                <div class="task-title">${task.title}</div>
                <div class="task-desc">${task.desc||'Ù…Ù‡Ù…Ø© Ù…Ø¶Ø§ÙØ© Ù…Ù† Ù‚Ø¨Ù„Ùƒ'}</div>
            </div>
            <div class="task-points">+50</div>
            <div class="task-actions">
                <button class="task-action-btn" onclick="editUserTask(${index})">âœï¸</button>
                <button class="task-action-btn" onclick="removeUserTask(${index})">ğŸ—‘ï¸</button>
            </div>
        </div>`;
    });
    
    tasksContainer.innerHTML=html;
    
    const addTaskContainer=document.querySelector('.add-task-container');
    if(addTaskContainer){
        if(userData.userTasks.length>=10){
            addTaskContainer.style.display='none';
            showNotification('Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø¶Ø§ÙØ© (10 Ù…Ù‡Ø§Ù…)');
        }else{
            addTaskContainer.style.display='flex';
        }
    }
}

function toggleTask(taskId,points,taskType){
    const today=new Date().toDateString();
    const taskKey=`${today}_${taskId}`;
    const wasCompleted=userData.completedTasks[taskKey]||false;
    
    if(!wasCompleted){
        userData.completedTasks[taskKey]=true;
        userData.points+=points;
        showNotification(`Ù…Ù…ØªØ§Ø²! +${points} Ù†Ù‚Ø·Ø© Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ù…Ø©`);
    }else{
        delete userData.completedTasks[taskKey];
        userData.points-=points;
        if(userData.points<0)userData.points=0;
        showNotification(`-${points} Ù†Ù‚Ø·Ø© Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©`);
    }
    updateLevelDisplay();
    updateTasksDisplay();
    saveAllUsersData();
}

function showAddTaskModal(){
    document.getElementById('add-task-modal').style.display='flex';
    document.getElementById('task-title-input').value='';
    document.getElementById('task-desc-input').value='';
    document.getElementById('task-title-input').focus();
}

function closeAddTaskModal(){
    document.getElementById('add-task-modal').style.display='none';
}

function saveNewTask(){
    const title=document.getElementById('task-title-input').value.trim();
    const desc=document.getElementById('task-desc-input').value.trim();
    if(!title){
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ù„Ù„Ù…Ù‡Ù…Ø©');
        return;
    }
    if(userData.userTasks.length>=10){
        showNotification('Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø¶Ø§ÙØ© (10 Ù…Ù‡Ø§Ù…)');
        closeAddTaskModal();
        return;
    }
    const newTask={
        id:Date.now(),
        title:title,
        desc:desc,
        points:50,
        type:'user',
        dateAdded:new Date().toISOString()
    };
    userData.userTasks.push(newTask);
    saveAllUsersData();
    updateTasksDisplay();
    closeAddTaskModal();
    showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­!');
}

function editUserTask(index){
    if(index>=0&&index<userData.userTasks.length){
        const task=userData.userTasks[index];
        document.getElementById('edit-task-modal').style.display='flex';
        document.getElementById('edit-task-title-input').value=task.title;
        document.getElementById('edit-task-desc-input').value=task.desc||'';
        document.getElementById('edit-task-id').value=index;
        document.getElementById('edit-task-title-input').focus();
    }
}

function closeEditTaskModal(){
    document.getElementById('edit-task-modal').style.display='none';
}

function saveEditedTask(){
    const index=parseInt(document.getElementById('edit-task-id').value);
    const title=document.getElementById('edit-task-title-input').value.trim();
    const desc=document.getElementById('edit-task-desc-input').value.trim();
    if(!title){
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ù„Ù„Ù…Ù‡Ù…Ø©');
        return;
    }
    if(index>=0&&index<userData.userTasks.length){
        userData.userTasks[index].title=title;
        userData.userTasks[index].desc=desc;
        saveAllUsersData();
        updateTasksDisplay();
        closeEditTaskModal();
        showNotification('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­!');
    }
}

function deleteTask(){
    const index=parseInt(document.getElementById('edit-task-id').value);
    if(index>=0&&index<userData.userTasks.length){
        if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ')){
            userData.userTasks.splice(index,1);
            const today=new Date().toDateString();
            const taskKey=`user_${index}`;
            delete userData.completedTasks[`${today}_${taskKey}`];
            saveAllUsersData();
            updateTasksDisplay();
            closeEditTaskModal();
            showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­!');
        }
    }
}

function removeUserTask(index){
    if(index>=0&&index<userData.userTasks.length){
        if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ')){
            userData.userTasks.splice(index,1);
            const today=new Date().toDateString();
            const taskKey=`user_${index}`;
            delete userData.completedTasks[`${today}_${taskKey}`];
            saveAllUsersData();
            updateTasksDisplay();
            showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­!');
        }
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ù†Ø¨Ø± (Ù†ÙØ³Ù‡Ø§)
function openSermon(youtubeURL){
    if(youtubeURL){
        window.open(youtubeURL,'_blank');
        showNotification('Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ø®Ø·Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨');
    }else{
        showNotification('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø· Ù…ØªØ§Ø­');
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù† (Ù†ÙØ³Ù‡Ø§)
function showRecitersList(){
    document.getElementById('reciters-list').style.display='grid';
    document.getElementById('surahs-container').style.display='none';
}

function showSheikhSurahs(sheikhId) {
    const sheikh = sheikhsData[sheikhId];
    if (!sheikh) return;
    
    currentSheikhId = sheikhId;
    
    document.getElementById('reciters-list').style.display = 'none';
    const surahsContainer = document.getElementById('surahs-container');
    const sheikhNameElement = document.getElementById('sheikh-name');
    const surahsListElement = document.getElementById('surahs-list');
    
    surahsContainer.style.display = 'block';
    sheikhNameElement.textContent = sheikh.name;
    
    let surahsHTML = '';
    
    sheikh.surahs.forEach((surah, index) => {
        surahsHTML += `<div class="surah-card" onclick="openYouTubeSurah('${surah.url}')">
            <div class="surah-card-title">${surah.title}</div>
            <div class="surah-card-desc">${sheikh.name}</div>
        </div>`;
    });
    
    if (userData.customSurahs[sheikhId] && userData.customSurahs[sheikhId].length > 0) {
        userData.customSurahs[sheikhId].forEach((surah, index) => {
            const hasAudio = userData.audioFiles && userData.audioFiles[surah.id];
            const hasYouTube = surah.url && surah.url.trim() !== '';
            
            surahsHTML += `<div class="surah-card" onclick="${hasYouTube ? `openYouTubeSurah('${surah.url}', true, ${index}, '${sheikhId}')` : `playCustomAudio('${sheikhId}', ${index})`}">
                <div class="surah-type-badge">${hasYouTube ? 'ÙŠÙˆØªÙŠÙˆØ¨' : (hasAudio ? 'Ù…Ù„Ù ØµÙˆØªÙŠ' : 'Ù…Ø®ØµØµ')}</div>
                <div class="surah-card-title">${surah.title}</div>
                <div class="surah-card-desc">${hasYouTube ? 'Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨' : (hasAudio ? 'Ù…Ù„Ù ØµÙˆØªÙŠ Ù…Ø­ÙÙˆØ¸' : 'Ø¨Ø¯ÙˆÙ† Ù…Ù„Ù')}</div>
                <div class="custom-azkar-actions" style="margin-top:10px">
                    <button class="task-action-btn" onclick="event.stopPropagation(); removeCustomSurah('${sheikhId}', ${index})">ğŸ—‘ï¸</button>
                </div>
            </div>`;
        });
    }
    
    surahsListElement.innerHTML = surahsHTML;
}

function openYouTubeSurah(youtubeURL, isCustom = false, index = -1, sheikhId = ''){
    if(youtubeURL && youtubeURL.trim() !== ''){
        window.open(youtubeURL,'_blank');
        showNotification('Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨');
    }else if(isCustom && index !== -1 && sheikhId !== ''){
        playCustomAudio(sheikhId, index);
    }else{
        showNotification('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø· Ù…ØªØ§Ø­');
    }
}

function handleAudioFileUpload(input) {
    const file = input.files[0];
    if (!file) return;
    
    if (!file.type.startsWith('audio/')) {
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØªÙŠ ØµØ­ÙŠØ­');
        return;
    }
    
    if (file.size > 50 * 1024 * 1024) {
        showNotification('Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 50 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª)');
        return;
    }
    
    uploadingAudioFile = file;
    showAddCustomSurahModal();
}

function showAddCustomSurahModal() {
    document.getElementById('add-custom-surah-modal').style.display = 'flex';
    document.getElementById('custom-surah-title-input').value = '';
    document.getElementById('custom-surah-url-input').value = '';
    document.getElementById('current-sheikh-id').value = currentSheikhId;
    document.getElementById('custom-surah-title-input').focus();
}

function closeAddCustomSurahModal() {
    document.getElementById('add-custom-surah-modal').style.display = 'none';
    uploadingAudioFile = null;
    document.getElementById('audio-file-input').value = '';
}

function saveCustomSurah() {
    const title = document.getElementById('custom-surah-title-input').value.trim();
    const url = document.getElementById('custom-surah-url-input').value.trim();
    const sheikhId = document.getElementById('current-sheikh-id').value;
    
    if (!title) {
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø©');
        return;
    }
    
    if (!sheikhId) {
        showNotification('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø´ÙŠØ®');
        return;
    }
    
    if (!userData.customSurahs[sheikhId]) {
        userData.customSurahs[sheikhId] = [];
    }
    
    if (userData.customSurahs[sheikhId].length >= 10) {
        showNotification('Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø³ÙˆØ± Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø´ÙŠØ® (10 Ø³ÙˆØ±)');
        closeAddCustomSurahModal();
        return;
    }
    
    const surahId = Date.now();
    const customSurah = {
        id: surahId,
        title: title,
        type: 'custom',
        dateAdded: new Date().toISOString()
    };
    
    if (url) {
        customSurah.url = url;
    }
    
    if (uploadingAudioFile) {
        const reader = new FileReader();
        reader.onload = function(e) {
            if (!userData.audioFiles) userData.audioFiles = {};
            userData.audioFiles[surahId] = {
                data: e.target.result.split(',')[1],
                type: uploadingAudioFile.type,
                name: uploadingAudioFile.name
            };
            
            userData.customSurahs[sheikhId].push(customSurah);
            saveAllUsersData();
            showSheikhSurahs(sheikhId);
            closeAddCustomSurahModal();
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø®ØµØµØ© Ø¨Ù†Ø¬Ø§Ø­!');
            
            userData.points += 100;
            updateLevelDisplay();
            
            uploadingAudioFile = null;
            document.getElementById('audio-file-input').value = '';
        };
        reader.onerror = function() {
            showNotification('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØªÙŠ');
        };
        reader.readAsDataURL(uploadingAudioFile);
    } else {
        userData.customSurahs[sheikhId].push(customSurah);
        saveAllUsersData();
        showSheikhSurahs(sheikhId);
        closeAddCustomSurahModal();
        showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø®ØµØµØ© Ø¨Ù†Ø¬Ø§Ø­!');
        
        userData.points += 100;
        updateLevelDisplay();
    }
}

function showAddYouTubeModal() {
    document.getElementById('add-youtube-modal').style.display = 'flex';
    document.getElementById('youtube-surah-title-input').value = '';
    document.getElementById('youtube-surah-url-input').value = '';
    document.getElementById('youtube-sheikh-id').value = currentSheikhId;
    document.getElementById('youtube-surah-title-input').focus();
}

function closeAddYouTubeModal() {
    document.getElementById('add-youtube-modal').style.display = 'none';
}

function saveYouTubeSurah() {
    const title = document.getElementById('youtube-surah-title-input').value.trim();
    const url = document.getElementById('youtube-surah-url-input').value.trim();
    const sheikhId = document.getElementById('youtube-sheikh-id').value;
    
    if (!title) {
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø©');
        return;
    }
    
    if (!url) {
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨');
        return;
    }
    
    if (!sheikhId) {
        showNotification('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø´ÙŠØ®');
        return;
    }
    
    if (!userData.customSurahs[sheikhId]) {
        userData.customSurahs[sheikhId] = [];
    }
    
    if (userData.customSurahs[sheikhId].length >= 10) {
        showNotification('Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø³ÙˆØ± Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø´ÙŠØ® (10 Ø³ÙˆØ±)');
        closeAddYouTubeModal();
        return;
    }
    
    const customSurah = {
        id: Date.now(),
        title: title,
        url: url,
        type: 'custom',
        dateAdded: new Date().toISOString()
    };
    
    userData.customSurahs[sheikhId].push(customSurah);
    saveAllUsersData();
    showSheikhSurahs(sheikhId);
    closeAddYouTubeModal();
    showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³ÙˆØ±Ø© Ø¨Ø±Ø§Ø¨Ø· Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ Ø¨Ù†Ø¬Ø§Ø­!');
    
    userData.points += 100;
    updateLevelDisplay();
}

function removeCustomSurah(sheikhId, index) {
    if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø®ØµØµØ©ØŸ')) {
        if (userData.customSurahs[sheikhId] && userData.customSurahs[sheikhId][index]) {
            const surah = userData.customSurahs[sheikhId][index];
            if (surah.id && userData.audioFiles && userData.audioFiles[surah.id]) {
                delete userData.audioFiles[surah.id];
            }
            userData.customSurahs[sheikhId].splice(index, 1);
            saveAllUsersData();
            showSheikhSurahs(sheikhId);
            showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø®ØµØµØ© Ø¨Ù†Ø¬Ø§Ø­!');
        }
    }
}

// Ø¯ÙˆØ§Ù„ Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª (Ù†ÙØ³Ù‡Ø§)
function playCustomAudio(sheikhId, index) {
    if (!userData.customSurahs[sheikhId] || !userData.customSurahs[sheikhId][index]) {
        showNotification('Ø§Ù„Ø³ÙˆØ±Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
        return;
    }
    
    const surah = userData.customSurahs[sheikhId][index];
    const sheikh = sheikhsData[sheikhId];
    
    currentAudioSheikh = sheikhId;
    currentAudioIndex = index;
    currentAudioList = userData.customSurahs[sheikhId];
    
    if (surah.url && surah.url.trim() !== '') {
        window.open(surah.url, '_blank');
        showNotification('Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨');
        return;
    }
    
    if (surah.id && userData.audioFiles && userData.audioFiles[surah.id]) {
        const audioData = userData.audioFiles[surah.id];
        const audioBlob = b64toBlob(audioData.data, audioData.type);
        const audioUrl = URL.createObjectURL(audioBlob);
        
        if (audioElement) {
            audioElement.src = audioUrl;
            audioElement.load();
            
            document.getElementById('audio-player-title').textContent = `Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª - ${sheikh.name}`;
            document.getElementById('current-audio-title').textContent = surah.title;
            document.getElementById('audio-player-modal').style.display = 'flex';
            
            setTimeout(() => {
                audioElement.play();
                isPlaying = true;
                document.getElementById('play-pause-btn').innerHTML = 'â¸ï¸';
            }, 500);
        }
    } else {
        showNotification('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ù ØµÙˆØªÙŠ Ù…Ø­ÙÙˆØ¸ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙˆØ±Ø©');
    }
}

function b64toBlob(b64Data, contentType, sliceSize = 512) {
    const byteCharacters = atob(b64Data);
    const byteArrays = [];
    
    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {
        const slice = byteCharacters.slice(offset, offset + sliceSize);
        const byteNumbers = new Array(slice.length);
        
        for (let i = 0; i < slice.length; i++) {
            byteNumbers[i] = slice.charCodeAt(i);
        }
        
        const byteArray = new Uint8Array(byteNumbers);
        byteArrays.push(byteArray);
    }
    
    return new Blob(byteArrays, {type: contentType});
}

function togglePlay() {
    if (!audioElement) return;
    
    if (isPlaying) {
        audioElement.pause();
        document.getElementById('play-pause-btn').innerHTML = 'â–¶ï¸';
    } else {
        audioElement.play();
        document.getElementById('play-pause-btn').innerHTML = 'â¸ï¸';
    }
    
    isPlaying = !isPlaying;
}

function skipBackward() {
    if (!audioElement) return;
    
    audioElement.currentTime = Math.max(0, audioElement.currentTime - 5);
    showNotification('Ø±Ø¬ÙˆØ¹ 5 Ø«ÙˆØ§Ù†ÙŠ');
}

function skipForward() {
    if (!audioElement) return;
    
    audioElement.currentTime = Math.min(audioElement.duration, audioElement.currentTime + 5);
    showNotification('ØªÙ‚Ø¯ÙŠÙ… 5 Ø«ÙˆØ§Ù†ÙŠ');
}

function changeVolume(value) {
    if (!audioElement) return;
    
    audioElement.volume = value / 100;
}

function updateAudioProgress() {
    if (!audioElement) return;
    
    const progressBar = document.getElementById('progress-bar');
    const currentTimeElement = document.getElementById('current-time');
    
    if (progressBar && audioElement.duration) {
        const percentage = (audioElement.currentTime / audioElement.duration) * 100;
        progressBar.style.width = `${percentage}%`;
    }
    
    if (currentTimeElement) {
        currentTimeElement.textContent = formatTime(audioElement.currentTime);
    }
}

function updateAudioDuration() {
    const totalTimeElement = document.getElementById('total-time');
    if (totalTimeElement && audioElement) {
        totalTimeElement.textContent = formatTime(audioElement.duration);
    }
}

function onAudioEnded() {
    isPlaying = false;
    document.getElementById('play-pause-btn').innerHTML = 'â–¶ï¸';
}

function formatTime(seconds) {
    if (isNaN(seconds)) return '00:00';
    
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
}

function closeAudioPlayer() {
    if (audioElement) {
        audioElement.pause();
        isPlaying = false;
        document.getElementById('play-pause-btn').innerHTML = 'â–¶ï¸';
        
        if (audioElement.src.startsWith('blob:')) {
            URL.revokeObjectURL(audioElement.src);
        }
        audioElement.src = '';
    }
    
    document.getElementById('audio-player-modal').style.display = 'none';
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø£Ø®Ø±Ù‰ (Ù†ÙØ³Ù‡Ø§)
function updateSitesDisplay() {
    const sitesList = document.getElementById('sites-list');
    if (!sitesList) return;
    
    let html = '';
    
    const defaultSites = [
        {
            title: 'Tajweed.tech',
            desc: 'Ù…ÙˆÙ‚Ø¹ Ù„ØªØ¹Ù„ÙŠÙ… Ø£Ø­ÙƒØ§Ù… Ø§Ù„ØªØ¬ÙˆÙŠØ¯ ÙˆØ§Ù„ØªÙ„Ø§ÙˆØ© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…',
            url: 'https://tajweed.tech/'
        },
        {
            title: 'Duaa.mocha.app',
            desc: 'Ù…ÙˆÙ‚Ø¹ Ù„Ù„Ø£Ø¯Ø¹ÙŠØ© Ø§Ù„Ù…Ø£Ø«ÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ§Ù„Ø³Ù†Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©',
            url: 'https://duaa.mocha.app/'
        }
    ];
    
    defaultSites.forEach(site => {
        html += `<div class="site-card" onclick="openSite('${site.url}')">
            <div class="site-title">${site.title}</div>
            <div class="site-desc">${site.desc}</div>
        </div>`;
    });
    
    sitesList.innerHTML = html;
}

function openSite(url){
    if(url){
        window.open(url,'_blank');
        showNotification('Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹');
    }
}

// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…ØµØ§Ø¯Ø± (Ù†ÙØ³Ù‡Ø§)
function updateSourcesDisplay() {
    const sourcesList = document.getElementById('sources-list');
    if (!sourcesList) return;
    
    let html = '';
    
    const defaultSources = [
        {
            title: 'Ø§Ù„Ø£Ø°ÙƒØ§Ø±',
            desc: 'Ù…Ø£Ø®ÙˆØ°Ø© Ù…Ù† ÙƒØªØ¨ Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© Ù…Ø«Ù„ "Ø­ØµÙ† Ø§Ù„Ù…Ø³Ù„Ù…" Ùˆ"Ø§Ù„ÙƒÙ„Ù… Ø§Ù„Ø·ÙŠØ¨" ÙˆÙ…ÙˆÙ‚Ø¹ islambook.com'
        },
        {
            title: 'Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« Ø§Ù„Ù†Ø¨ÙˆÙŠØ©',
            desc: 'Ù…Ù† Ø§Ù„ØµØ­ÙŠØ­ÙŠÙ† (Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ ÙˆÙ…Ø³Ù„Ù…) ÙˆÙƒØªØ¨ Ø§Ù„Ø³Ù†Ù† Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©'
        },
        {
            title: 'Ø£Ø­ÙƒØ§Ù… Ø§Ù„ÙˆØ¶ÙˆØ¡ ÙˆØ§Ù„ØµÙ„Ø§Ø©',
            desc: 'Ù…Ù† ÙƒØªØ¨ Ø§Ù„ÙÙ‚Ù‡ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© Ù…Ø«Ù„ "ÙÙ‚Ù‡ Ø§Ù„Ø³Ù†Ø©" Ùˆ"Ø§Ù„Ù…ØºÙ†ÙŠ"'
        },
        {
            title: 'Ø§Ù„ØªÙØ³ÙŠØ±',
            desc: 'ØªÙØ³ÙŠØ± Ø§Ø¨Ù† ÙƒØ«ÙŠØ± ÙˆØªÙØ³ÙŠØ± Ø§Ù„Ø³Ø¹Ø¯ÙŠ ÙˆØªÙØ³ÙŠØ± Ø§Ù„Ø·Ø¨Ø±ÙŠ'
        },
        {
            title: 'Ø§Ù„ØªÙ„Ø§ÙˆØ§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©',
            desc: 'Ù…Ù† Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù„Ø´ÙŠÙˆØ® Ø¹Ù„Ù‰ ÙŠÙˆØªÙŠÙˆØ¨'
        },
        {
            title: 'Ø§Ù„Ø®Ø·Ø¨ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©',
            desc: 'Ù…Ù† Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù„Ø´ÙŠÙˆØ® ÙˆØ§Ù„Ø¯Ø¹Ø§Ø© Ø¹Ù„Ù‰ ÙŠÙˆØªÙŠÙˆØ¨'
        },
        {
            title: 'Ù†ØµÙˆØµ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…',
            desc: 'Ù…Ø£Ø®ÙˆØ°Ø© Ù…Ù† Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ (Ù…Ø¬Ù…Ø¹ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯ Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ)'
        }
    ];
    
    defaultSources.forEach(source => {
        html += `<div class="source-item">
            <div class="source-title">${source.title}</div>
            <div class="source-desc">${source.desc}</div>
        </div>`;
    });
    
    sourcesList.innerHTML = html;
}

// Ø¯ÙˆØ§Ù„ ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù… (Ù†ÙØ³Ù‡Ø§)
function showChangeNameModal(){
    document.getElementById('change-name-modal').style.display='flex';
    document.getElementById('new-name-input').value=userData.username;
    document.getElementById('new-name-input').focus();
}

function closeChangeNameModal(){
    document.getElementById('change-name-modal').style.display='none';
}

function saveNewName(){
    const newName=document.getElementById('new-name-input').value.trim();
    if(!newName){
        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø¬Ø¯ÙŠØ¯');
        return;
    }
    if(newName===userData.username){
        showNotification('Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ');
        closeChangeNameModal();
        return;
    }
    userData.username=newName;
    document.getElementById('user-name').textContent=newName;
    saveAllUsersData();
    closeChangeNameModal();
    showNotification(`ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù… Ø¥Ù„Ù‰ ${newName}`);
}

</script>
</body>
</html>
